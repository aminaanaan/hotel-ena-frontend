(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],d=0,m=[];d<s.length;d++)i=s[d],n[i]&&m.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("1356"),n=a.n(r);n.a},"06b7":function(e,t,a){},1356:function(e,t,a){},"14ba":function(e,t,a){},"14ec":function(e,t,a){"use strict";var r=a("c3d5"),n=a.n(r);n.a},1661:function(e,t,a){"use strict";var r=a("06b7"),n=a.n(r);n.a},"168e":function(e,t,a){},"16f4":function(e,t,a){e.exports=a.p+"img/404.aa46824c.png"},"1cc2":function(e,t,a){"use strict";var r=a("79c2"),n=a.n(r);n.a},2944:function(e,t,a){},"2ba4":function(e,t,a){},"3d55":function(e,t,a){},4116:function(e,t,a){"use strict";var r=a("3d55"),n=a.n(r);n.a},"46d3":function(e,t,a){"use strict";var r=a("9c8e"),n=a.n(r);n.a},"4a0a":function(e,t,a){},"4a36":function(e,t,a){"use strict";var r=a("168e"),n=a.n(r);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),n=a("bb71");a("da64");r["a"].use(n["a"],{iconfont:"md"});var o=a("8c4f"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],l="http://welcome-bot.tk:9090",c="http://welcome-bot.tk:80/oauth2/redirect",u=l+"/oauth2/authorize/google?redirect_uri="+c,d="accessToken",m="currentUserRole",g="user-email",h="user-name",p="user-pic",v="user-theme",f="user_language",y="settings",w="theme",b="selectColor",k="selectLanguage",S="language",I="save",_="messages",E="users",T="schedules",B="triggers",C="title",x="text",N="message",M="nextRun",O="activeAt",z="repeat",$="channel",H="trigger",D="active",P="name",R="role",L="createdAt",V="activityLog",A="poll",j="cause",U="consequence",F="logOut",q="profile",J="createUser",K="newUserEmail",Y="newUserRole",G="createMessage",X="newMessage",W="typeYourMessage",Q="createSchedule",Z="runAt",ee="selectDate",te="someChannelName",ae="cancel",re="someMessageTitle",ne="languageEN",oe="languageFR",ie="user",se="createpoll",le="newpolltitle",ce="choices",ue="createtrigger",de="sometriggertype",me="dark",ge="light",he="enddate",pe="option",ve="votenumber",fe=a("bc3a"),ye=a.n(fe),we={name:"app",components:{},data:function(){return{rowSizesValue:[5,10,20]}},mounted:function(){var e={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)};ye.a.get(l+"/user/me",{headers:e}).then(function(e){localStorage.setItem(v,e.data.userSettings.theme)}),"Dark"==localStorage.getItem(v)&&(document.getElementById("app").style.color="#f1f1f1",document.getElementById("footer").style.backgroundColor="#191919")}},be=we,ke=(a("034f"),a("2877")),Se=Object(ke["a"])(be,i,s,!1,null,null,null),Ie=Se.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"messages"}},[a("router-view",{on:{"reload-messages":function(t){return e.reloadMessages()},"show-notification":function(t){return e.showNotification(t)}}}),e._m(0),a("div",{attrs:{id:"divlist"}},[a("ul",{attrs:{id:"list"}},[a("li",{attrs:{id:"title-li"}},[a("div",{staticClass:"column1 column"},[a("h5",[e._v("Title")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by title"},on:{click:function(t){return e.sortBy("title")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column2 column"},[a("h5",[e._v("Text")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by text"},on:{click:function(t){return e.sortBy("text")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column3 column"},[a("h5",[e._v("Created At")]),a("p",[a("i",{staticClass:"tooltip, material-icons",attrs:{title:"Sort by date"},on:{click:function(t){return e.sortBy("createdAt")}}},[e._v("arrow_drop_down")])])]),e._m(1)]),e._l(e.messagesData,function(t){return a("li",{key:t.messageId},[a("div",{staticClass:"linear2"}),a("div",{staticClass:"linear1"}),a("div",{staticClass:"column1 column"},[a("p",[e._v(e._s(t.title))])]),a("div",{staticClass:"column2 column"},[a("p",{staticClass:"lip"},[e._v(e._s(t.text))])]),a("div",{staticClass:"column3 column"},[a("p",{staticClass:"lip"},[e._v(e._s(e._f("shortDate")(t.createdAt)))])]),a("div",{staticClass:"column4 column"},[a("i",{staticClass:"material-icons tooltip",attrs:{title:"Create schedule"},on:{click:function(a){return e.showScheduleForm(t.messageId)}}},[e._v("assignment_turned_in")]),a("i",{staticClass:"material-icons",attrs:{title:"Create trigger"},on:{click:function(a){return e.showTriggerForm(t.messageId)}}},[e._v("assistant")]),a("i",{staticClass:"material-icons",attrs:{title:"Edit message"},on:{click:function(a){return e.editMessage(t.messageId)}}},[e._v("create")]),a("i",{staticClass:"material-icons",attrs:{title:"Delete message"},on:{click:function(a){return e.deleteMessage(t.messageId)}}},[e._v("delete")])])])})],2)]),a("div",{attrs:{id:"footer"}},[a("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],attrs:{id:"footer-btn"},on:{click:e.toggleMenu}},[e._v(e._s(this.rowSize)+" Rows")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menu,expression:"menu"}],attrs:{id:"menu"}},e._l(e.rowSizesValue,function(t){return a("div",{key:t,staticClass:"menu-article",on:{click:function(a){return e.setRows(t)}}},[e._v(e._s(t))])}),0),a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:e.pagesSize,"total-visible":5},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]),a("button",{attrs:{id:"btn"},on:{click:e.showMessageForm}},[e._v("+")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNotificationValue,expression:"showNotificationValue"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.showNotification}},[e._v("OK")])])],1)},Ee=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",[e._v("Messages")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column4 column"},[a("p",[a("i",{staticClass:"material-icons"},[e._v("filter_list")])])])}],Te=(a("7f7f"),a("96cf"),a("3b8d")),Be=a("e67d"),Ce=a.n(Be),xe=a("5118"),Ne={name:"messages",data:function(){return{messagesData:[],rowSize:20,pagesSize:1,page:1,menu:!1,rowSizesValue:[5,10,20],sortType:"desc",dateSort:!0,sortByValue:"createdAt",textNoti:"",errorOccured:!1,showNotificationValue:!1}},mounted:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,ye.a.get(l+"/user/me",{headers:t}).then(function(e){return localStorage.setItem(g,e.data.email),localStorage.setItem(h,e.data.name),localStorage.setItem(p,e.data.imageUrl),localStorage.setItem(m,e.data.role),localStorage.setItem(v,e.data.userSettings.theme),localStorage.setItem(f,e.data.userSettings.language),ye.a.get(l+"/user/translation",{params:{language:localStorage.getItem(f)},headers:t}).then(function(e){for(var t in e.data)e.data.hasOwnProperty(t)&&localStorage.setItem(t,e.data[t])},function(e){console.log(e)})}).catch(function(e){console.log(e)});case 3:"Light"==localStorage.getItem(v)?(this.$emit("change-light"),document.getElementById("header").style.backgroundColor="white",document.getElementById("messages").style.backgroundColor="white"):"Dark"==localStorage.getItem(v)&&(this.$emit("change-dark"),document.getElementById("footer").style.backgroundColor="#191919",document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("divlist").style.backgroundColor="#4c4c4c",document.getElementById("header").style.backgroundColor="#191919",document.getElementById("messages").style.backgroundColor="#191919",document.getElementById("messages").style.color="#f1f1f1",document.getElementById("title-li").style.backgroundColor="#323232",document.getElementById("title-li").style.color="#f1f1f1",document.getElementsByTagName("H5")[0].style.color="#f1f1f1",document.getElementsByTagName("H5")[1].style.color="#f1f1f1",document.getElementsByTagName("H5")[2].style.color="#f1f1f1"),"fr"==localStorage.getItem(f)&&(document.getElementsByTagName("H1")[0].innerHTML=localStorage.getItem(_),document.getElementsByTagName("H5")[0].innerHTML=localStorage.getItem(C),document.getElementsByTagName("H5")[1].innerHTML=localStorage.getItem(x),document.getElementsByTagName("H5")[2].innerHTML=localStorage.getItem(L)),this.create();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),filters:{shortDate:function(e){var t=new Date(e),a=t.toDateString(),r=a.substring(4);return r}},methods:{reloadMessages:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},a=this.page-1,e.prev=2,e.next=5,ye.a.get(l+"/api/messages?page="+a+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:t});case 5:r=e.sent,r.data.totalPages<this.page&&this.changePage(r.data.totalPages),this.messagesData=r.data.content,this.pagesSize=r.data.totalPages,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.showNotification(-1);case 14:case"end":return e.stop()}},e,this,[[2,11]])}));function t(){return e.apply(this,arguments)}return t}(),showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNoti=!this.showNotificationValue,Object(xe["setTimeout"])(this.closeNotification,1500)},closeNotification:function(){this.showNotificationValue=!1},showMessageForm:function(){this.$router.push("/dashboard/messages/newMessage")},showTriggerForm:function(e){this.$router.push("/dashboard/messages/newTrigger/"+e)},showScheduleForm:function(e){this.$router.push("/dashboard/messages/newSchedule/"+e)},editMessage:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/dashboard/messages/updateMessage/"+t);case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),deleteMessage:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){var a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,ye.a.delete(l+"/api/messages/"+t);case 3:return r=this.page-1,e.prev=4,e.next=7,ye.a.get(l+"/api/messages?page="+r+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:a});case 7:n=e.sent,0==n.data.numberOfElements&&1!=this.page&&this.changePage(this.page-1),this.messagesData=n.data.content,0==n.data.totalPages?this.pagesSize=1:this.pagesSize=n.data.totalPages,this.showNotification(200),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),this.showNotification(-1);case 17:case"end":return e.stop()}},e,this,[[4,14]])}));function t(t){return e.apply(this,arguments)}return t}(),toggleMenu:function(){this.menu=!this.menu},hideMenu:function(){this.menu=!1},setRows:function(e){e!=this.rowSize&&(this.rowSize=e,this.reloadMessages()),this.menu=!this.menu},changePage:function(e){this.page=e,this.reloadMessages(e-1)},create:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,ye.a.get(l+"/api/messages?page=0&size="+this.rowSize+"&sort=createdAt,"+this.sortType,{headers:t});case 4:a=e.sent,this.messagesData=a.data.content,0==a.data.totalPages?this.pagesSize=1:this.pagesSize=a.data.totalPages,this.rowSize=a.data.size,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.showNotification(-1);case 13:if("Dark"==localStorage.getItem(v))for(this.$emit("change-dark");r<document.getElementsByTagName("li").length;r++)document.getElementsByTagName("li")[r].style.backgroundColor="#3c4858",document.getElementsByTagName("li")[r].style.color="white";else if("Light"==localStorage.getItem(v))for(;r<document.getElementsByTagName("li").length;r++)document.getElementsByTagName("li")[r].style.backgroundColor="white";case 14:case"end":return e.stop()}},e,this,[[1,10]])}));function t(){return e.apply(this,arguments)}return t}(),sortBy:function(e){"desc"==this.sortType?this.sortType="asc":this.sortType="desc",this.sortByValue=e,this.reloadMessages()}},directives:{ClickOutside:Ce.a}},Me=Ne,Oe=(a("5932"),a("6544")),ze=a.n(Oe),$e=a("891e"),He=Object(ke["a"])(Me,_e,Ee,!1,null,null,null),De=He.exports;ze()(He,{VPagination:$e["a"]});var Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tabcontent",attrs:{id:"Schedules"}},[a("router-view",{on:{"reload-schedules":function(t){return e.reloadSchedules()},"show-notification":function(t){return e.showNotification(t)}}}),e._m(0),a("div",{attrs:{id:"divlist"}},[a("ul",{attrs:{id:"list"}},[a("li",{attrs:{id:"title-li"}},[a("div",{staticClass:"column1 column"},[a("h5",[e._v("Message")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by message title"},on:{click:function(t){return e.sortBy("message.title")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column2 column"},[a("h5",[e._v("Next Run")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by next run"},on:{click:function(t){return e.sortBy("runAt")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column3 column"},[a("h5",[e._v("Active At")]),a("p",[a("i",{staticClass:"tooltip, material-icons",attrs:{title:"Sort by acive"},on:{click:function(t){return e.sortBy("active")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column6 column"},[a("h5",[e._v("Repeat")]),a("p",[a("i",{staticClass:"tooltip, material-icons",attrs:{title:"Sort by repeat"},on:{click:function(t){return e.sortBy("repeat")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column5 column"},[a("h5",[e._v("Channel")]),a("p",[a("i",{staticClass:"tooltip, material-icons",attrs:{title:"Sort by channel"},on:{click:function(t){return e.sortBy("channel")}}},[e._v("arrow_drop_down")])])]),e._m(1)]),e._l(e.schedulesData,function(t){return a("li",{key:t.scheduleId},[a("div",{staticClass:"linear1"}),a("div",{staticClass:"linear2"}),a("div",{staticClass:"column1 column"},[a("p",[e._v(e._s(t.message.title))])]),a("div",{staticClass:"column2 column"},[a("p",[e._v(e._s(e._f("shortDate")(t.runAt)))])]),a("div",{staticClass:"column3 column"},[a("p",[e._v(e._s(e._f("activeView")(t.active)))])]),a("div",{staticClass:"column6 column"},[a("p",[e._v(e._s(e._f("repeatView")(t.repeat)))])]),a("div",{staticClass:"column5 column"},[a("p",[e._v(e._s(t.channel))])]),a("div",{staticClass:"column4 column"},[a("i",{staticClass:"material-icons",attrs:{title:"Edit schedule"},on:{click:function(a){return e.editSchedule(t.scheduleId)}}},[e._v("create")]),a("i",{staticClass:"material-icons",attrs:{title:"Delete schedule"},on:{click:function(a){return e.deleteSchedule(t.scheduleId)}}},[e._v("delete")])])])})],2)]),a("div",{attrs:{id:"footer"}},[a("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],attrs:{id:"footer-btn"},on:{click:e.toggleMenu}},[e._v(e._s(this.rowSize)+" Rows")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menu,expression:"menu"}],attrs:{id:"menu"}},e._l(e.rowSizesValue,function(t){return a("div",{key:t,staticClass:"menu-article",on:{click:function(a){return e.setRows(t)}}},[e._v(e._s(t))])}),0),a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:e.pagesSize,"total-visible":5},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]),a("button",{attrs:{id:"btn"},on:{click:e.showScheduleForm}},[e._v("+")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNotificationValue,expression:"showNotificationValue"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.showNotification}},[e._v("OK")])])],1)},Re=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",[e._v("Schedules")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column4 column"},[a("p",[a("i",{staticClass:"material-icons"},[e._v("filter_list")])])])}],Le=(a("6b54"),localStorage.getItem(d),{name:"schedules",data:function(){return{schedulesData:[],rowSize:20,pagesSize:1,page:1,menu:!1,rowSizesValue:[5,10,20],sortType:"desc",textNoti:"",errorOccured:!1,showNotificationValue:!1,sortByValue:"createdAt"}},mounted:function(){"Light"==localStorage.getItem(v)?(this.$emit("change-light"),document.getElementById("header").style.backgroundColor="white",document.getElementById("Schedules").style.backgroundColor="white"):"Dark"==localStorage.getItem(v)&&(document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("Schedules").style.color="#f1f1f1",document.getElementById("footer").style.backgroundColor="#191919",document.getElementById("divlist").style.backgroundColor="#4c4c4c",document.getElementById("header").style.backgroundColor="#191919",document.getElementById("Schedules").style.backgroundColor="#191919",document.getElementById("title-li").style.backgroundColor="#323232",document.getElementById("title-li").style.color="#f1f1f1",document.getElementsByTagName("H5")[0].style.color="#f1f1f1",document.getElementsByTagName("H5")[1].style.color="#f1f1f1",document.getElementsByTagName("H5")[2].style.color="#f1f1f1",document.getElementsByTagName("H5")[3].style.color="#f1f1f1",document.getElementsByTagName("H5")[4].style.color="#f1f1f1",this.$emit("change-dark")),"en"!=localStorage.getItem(f)&&(document.getElementsByTagName("H1")[0].innerHTML=localStorage.getItem(T),document.getElementsByTagName("H5")[0].innerHTML=localStorage.getItem(N),document.getElementsByTagName("H5")[1].innerHTML=localStorage.getItem(M),document.getElementsByTagName("H5")[2].innerHTML=localStorage.getItem(O),document.getElementsByTagName("H5")[3].innerHTML=localStorage.getItem(z),document.getElementsByTagName("H5")[4].innerHTML=localStorage.getItem($)),this.create()},filters:{shortDate:function(e){var t=new Date(e),a=t.toString(),r=a.substring(4,21);return r},activeView:function(e){return 1==e?"Active":"Not active"},repeatView:function(e){return 1==e?"Repeat":"Not repeat"}},methods:{reloadSchedules:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},a=this.page-1,e.prev=2,e.next=5,ye.a.get(l+"/api/schedules?page="+a+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:t});case 5:r=e.sent,r.data.totalPages<this.page&&this.changePage(r.data.totalPages),this.schedulesData=r.data.content,this.pagesSize=r.data.totalPages,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.showNotification(-1);case 14:case"end":return e.stop()}},e,this,[[2,11]])}));function t(){return e.apply(this,arguments)}return t}(),showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNotificationValue=!this.showNotificationValue,setTimeout(this.closeNotification,1500)},closeNotification:function(){this.showNotificationValue=!1},showScheduleForm:function(){this.$router.push("/dashboard/schedules/newSchedule")},editSchedule:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/dashboard/schedules/updateSchedule/"+t);case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),deleteSchedule:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){var a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,ye.a.delete(l+"/api/schedules/"+t);case 3:return r=this.page-1,e.prev=4,e.next=7,ye.a.get(l+"/api/schedules?page="+r+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:a});case 7:n=e.sent,0==n.data.numberOfElements&&1!=this.page&&this.changePage(this.page-1),this.schedulesData=n.data.content,0==n.data.totalPages?this.pagesSize=1:this.pagesSize=n.data.totalPages,this.showNotification(),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),this.showNotification(-1);case 17:case"end":return e.stop()}},e,this,[[4,14]])}));function t(t){return e.apply(this,arguments)}return t}(),toggleMenu:function(){this.menu=!this.menu},hideMenu:function(){this.menu=!1},setRows:function(e){e!=this.rowSize&&(this.rowSize=e,this.reloadSchedules()),this.menu=!this.menu},changePage:function(e){this.page=e,this.reloadSchedules(e-1)},create:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,ye.a.get(l+"/api/schedules?page=0&size="+this.rowSize+"&sort=createdAt,"+this.sortType,{headers:t});case 4:a=e.sent,this.schedulesData=a.data.content,0==a.data.totalPages?this.pagesSize=1:this.pagesSize=a.data.totalPages,this.rowSize=a.data.size,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.showNotification(-1);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));function t(){return e.apply(this,arguments)}return t}(),sortBy:function(e){"desc"==this.sortType?this.sortType="asc":this.sortType="desc",this.sortByValue=e,this.reloadSchedules()}},directives:{ClickOutside:Ce.a}}),Ve=Le,Ae=(a("84c8"),Object(ke["a"])(Ve,Pe,Re,!1,null,"6ad87223",null)),je=Ae.exports;ze()(Ae,{VPagination:$e["a"]});var Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tabcontent",attrs:{id:"Triggers"}},[e._m(0),a("router-view",{on:{"reload-triggers":function(t){return e.reloadTriggers()},"show-notification":function(t){return e.showNotification(t)}}}),a("div",{attrs:{id:"divlist"}},[a("ul",{attrs:{id:"list"}},[a("li",{attrs:{id:"title-li"}},[a("div",{staticClass:"column1 column"},[a("h5",[e._v("Message")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by message title"},on:{click:function(t){return e.sortBy("message.title")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column2 column"},[a("h5",[e._v("Trigger")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by date"},on:{click:function(t){return e.sortBy("createdAt")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column3 column"},[a("h5",[e._v("Channel")]),a("p",[a("i",{staticClass:"tooltip material-icons",attrs:{title:"Sort by channel"},on:{click:function(t){return e.sortBy("channel")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column5 column"},[a("h5",[e._v("Active")]),a("p",[a("i",{staticClass:"tooltip material-icons",attrs:{title:"Sort by active"},on:{click:function(t){return e.sortBy("active")}}},[e._v("arrow_drop_down")])])]),e._m(1)]),e._l(e.triggersData,function(t){return a("li",{key:t.triggerId},[a("div",{staticClass:"linear1"}),a("div",{staticClass:"linear2"}),a("div",{staticClass:"column1 column"},[a("p",[e._v(e._s(t.message.title))])]),a("div",{staticClass:"column2 column"},[a("p",[e._v(e._s(e._f("shortDate")(t.createdAt)))])]),a("div",{staticClass:"column3 column"},[a("p",[e._v(e._s(t.channel))])]),a("div",{staticClass:"column5 column"},[a("p",[e._v(e._s(e._f("activeView")(t.active)))])]),a("div",{staticClass:"column4 column"},[a("i",{staticClass:"material-icons",attrs:{title:"Edit tigger"},on:{click:function(a){return e.editTrigger(t.triggerId)}}},[e._v("create")]),a("i",{staticClass:"material-icons",attrs:{title:"Delete trigger"},on:{click:function(a){return e.deleteTrigger(t.triggerId)}}},[e._v("delete")])])])})],2)]),a("div",{attrs:{id:"footer"}},[a("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],attrs:{id:"footer-btn"},on:{click:e.toggleMenu}},[e._v(e._s(this.rowSize)+" Rows")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menu,expression:"menu"}],attrs:{id:"menu"}},e._l(e.rowSizesValue,function(t){return a("div",{key:t,staticClass:"menu-article",on:{click:function(a){return e.setRows(t)}}},[e._v(e._s(t))])}),0),a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:e.pagesSize,"total-visible":5},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]),a("button",{attrs:{id:"btn"},on:{click:e.showTriggerForm}},[e._v("+")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNotificationValue,expression:"showNotificationValue"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.showNotification}},[e._v("OK")])])],1)},Fe=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",[e._v("Triggers")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column4 column"},[a("p",[a("i",{staticClass:"material-icons"},[e._v("filter_list")])])])}],qe={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},Je={name:"Triggers",data:function(){return{triggersData:[],rowSize:20,pagesSize:1,page:1,menu:!1,rowSizesValue:[5,10,20],sortType:"desc",sortByValue:"createdAt",textNoti:"",errorOccured:!1,showNotificationValue:!1}},filters:{shortDate:function(e){var t=new Date(e),a=t.toDateString(),r=a.substring(4);return r},activeView:function(e){return 1==e?"Active":"Not active"}},mounted:function(){"Light"==localStorage.getItem(v)?(this.$emit("change-light"),document.getElementById("header").style.backgroundColor="white",document.getElementById("Triggers").style.backgroundColor="white"):"Dark"==localStorage.getItem(v)&&(this.$emit("change-dark"),document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("Triggers").style.color="#f1f1f1",document.getElementById("footer").style.backgroundColor="#191919",document.getElementById("divlist").style.backgroundColor="#4c4c4c",document.getElementById("header").style.backgroundColor="#191919",document.getElementById("Triggers").style.backgroundColor="#191919",document.getElementById("title-li").style.backgroundColor="#323232",document.getElementById("title-li").style.color="#f1f1f1",document.getElementsByTagName("H5")[0].style.color="#f1f1f1",document.getElementsByTagName("H5")[1].style.color="#f1f1f1",document.getElementsByTagName("H5")[2].style.color="#f1f1f1",document.getElementsByTagName("H5")[3].style.color="#f1f1f1"),"en"!=localStorage.getItem(f)&&(document.getElementsByTagName("H1")[0].innerHTML=localStorage.getItem(B),document.getElementsByTagName("H5")[0].innerHTML=localStorage.getItem(N),document.getElementsByTagName("H5")[1].innerHTML=localStorage.getItem(H),document.getElementsByTagName("H5")[2].innerHTML=localStorage.getItem($),document.getElementsByTagName("H5")[3].innerHTML=localStorage.getItem(D)),this.create()},methods:{showTriggerForm:function(){this.$router.push("/dashboard/triggers/newTrigger")},reloadTriggers:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},a=this.page-1,e.prev=2,e.next=5,ye.a.get(l+"/api/triggers?page="+a+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:t});case 5:r=e.sent,r.data.totalPages<this.page&&this.changePage(r.data.totalPages),this.triggersData=r.data.content,this.pagesSize=r.data.totalPages,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.showNotification(-1);case 14:case"end":return e.stop()}},e,this,[[2,11]])}));function t(){return e.apply(this,arguments)}return t}(),showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNotificationValue=!this.showNotificationValue,setTimeout(this.closeNotification,1500)},closeNotification:function(){this.showNotificationValue=!1},editTrigger:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/dashboard/triggers/updateTrigger/"+t);case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),deleteTrigger:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){var a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ye.a.delete(l+"/api/triggers/"+t);case 2:return a=this.page-1,e.prev=3,e.next=6,ye.a.get(l+"/api/triggers?page="+a+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:qe});case 6:r=e.sent,0==r.data.numberOfElements&&1!=this.page&&this.changePage(this.page-1),this.messagesData=r.data.content,0==r.data.totalPages?this.pagesSize=1:this.pagesSize=r.data.totalPages,this.reloadTriggers(),this.showNotification(200),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](3),this.showNotification(-1);case 17:case"end":return e.stop()}},e,this,[[3,14]])}));function t(t){return e.apply(this,arguments)}return t}(),toggleMenu:function(){this.menu=!this.menu},hideMenu:function(){this.menu=!1},setRows:function(e){e!=this.rowSize&&(this.rowSize=e,this.reloadTriggers()),this.menu=!this.menu},changePage:function(e){this.page=e,this.reloadTriggers(e-1)},create:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,ye.a.get(l+"/api/triggers?page=0&size="+this.rowSize+"&sort=createdAt,"+this.sortType,{headers:t});case 4:a=e.sent,this.triggersData=a.data.content,0==a.data.totalPages?this.pagesSize=1:this.pagesSize=a.data.totalPages,this.rowSize=a.data.size,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.showNotification(-1);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));function t(){return e.apply(this,arguments)}return t}(),changeSortType:function(){"asc"==this.sortType?this.sortType="desc":this.sortType="asc"},sortBy:function(e){"asc"==this.sortType?this.sortType="desc":this.sortType="asc",this.sortByValue=e,this.reloadTriggers()}},directives:{ClickOutside:Ce.a}},Ke=Je,Ye=(a("8228"),Object(ke["a"])(Ke,Ue,Fe,!1,null,"1ee96f0d",null)),Ge=Ye.exports;ze()(Ye,{VPagination:$e["a"]});var Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"formaM"}},[a("div",{attrs:{id:"form-style-10"}},[a("form",{attrs:{id:"forma"}},[a("div",{attrs:{id:"section"}},[a("p",[a("span",{attrs:{id:"formTitle"}},[e._v(e._s(e.formType)+" Message")]),a("label",{staticStyle:{"font-size":"20px"},attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("X")])])]),a("div",{attrs:{id:"style-options"}},[a("div",{staticClass:"style-option",class:{styleOptionSelected:e.boldSelected},staticStyle:{"font-weight":"bold"},on:{click:function(t){return e.select("bold")}}},[e._v("Bold")]),a("div",{staticClass:"style-option",class:{styleOptionSelected:e.italicSelected},staticStyle:{"font-style":"italic"},on:{click:function(t){return e.select("italic")}}},[e._v("Italic")]),a("div",{staticClass:"style-option",class:{styleOptionSelected:e.urlSelected},staticStyle:{"text-decoration":"underline"},on:{click:function(t){return e.select("url")}}},[e._v("Url")])]),a("div",{attrs:{id:"inner-wrap"}},[a("label",{class:{errorText:e.showTitleError}},[e._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],class:{errorBorder:e.showTitleError},attrs:{autocomplete:"off",type:"text",name:"field1",placeholder:"New message",id:"field1"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showTitleError,expression:"showTitleError"}]},[e._v("Title size should be between 5 and 30 characters")]),a("br"),a("span",{directives:[{name:"show",rawName:"v-show",value:e.boldSelected||e.italicSelected,expression:"boldSelected || italicSelected"}],staticStyle:{color:"grey"}},[e._v("Please input text between "+e._s(e.styleCharacters))]),a("span",{directives:[{name:"show",rawName:"v-show",value:e.urlSelected,expression:"urlSelected"}],staticStyle:{color:"grey"}},[e._v('Please input your url instead "url" and your text instead "text"')]),a("label",{class:{errorText:e.showMessageError}},[e._v("Text")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],class:{errorBorder:e.showMessageError},attrs:{id:"textarea",name:"field2",placeholder:"Type your message text here",cols:"30",rows:"8"},domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showMessageError,expression:"showMessageError"}]},[e._v("Text size should be more then 20 characters")]),a("br"),a("br"),a("input",{attrs:{type:"button",value:"Save",id:"submit"},on:{click:e.save}}),a("input",{attrs:{type:"button",value:"Cancel",id:"cancle"},on:{click:e.exit}})])])])])},We=[],Qe={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},Ze={name:"formaM",data:function(){return{title:"",text:"",formType:"Create",showTitleError:!1,showMessageError:!1,invalid:!1,liveValidation:!1,boldSelected:!1,italicSelected:!1,urlSelected:!1,regexTitle:/^.{5,30}$/,regexText:/^.{20,}$/,styleCharacters:""}},mounted:function(){null!=this.$route.params.id&&(this.create(),this.formType="Update"),"en"!=localStorage.getItem(f)&&(document.getElementById("formTitle").innerHTML=localStorage.getItem(G),document.getElementById("submit").value=localStorage.getItem(I),document.getElementById("cancle").value=localStorage.getItem(ae),document.getElementsByTagName("label")[1].innerHTML=localStorage.getItem(C),document.getElementsByTagName("label")[2].innerHTML=localStorage.getItem(x),document.getElementsByTagName("input")[0].placeholder=localStorage.getItem(X),document.getElementsByTagName("textarea")[0].placeholder=localStorage.getItem(W)),"Dark"==localStorage.getItem(v)&&(document.getElementById("cancle").style.backgroundColor="#191919",document.getElementById("cancle").style.color="white",document.getElementById("formTitle").style.color="white",document.getElementById("form-style-10").style.backgroundColor="#191919",document.getElementById("inner-wrap").style.backgroundColor="#191919",document.getElementsByTagName("label")[0].style.backgroundColor="#191919",document.getElementsByTagName("label")[1].style.backgroundColor="#191919",document.getElementsByTagName("label")[2].style.backgroundColor="#191919")},watch:{title:function(e){this.title=e,1==this.liveValidation&&this.check_title(e)},text:function(e){this.text=e,1==this.liveValidation&&this.check_text(e)}},methods:{exit:function(){this.$emit("reload-messages"),this.$router.go(-1)},check_title:function(e){return this.regexTitle.test(e)?(this.showTitleError=!1,!0):(this.showTitleError=!0,!1)},check_text:function(e){return this.regexText.test(e)?(this.showMessageError=!1,!0):(this.showMessageError=!0,!1)},select:function(e){if("bold"==e){if(0!=this.boldSelected)return 1==this.italicSelected&&(this.text+=" _ _",this.styleCharacters="_ _"),void(this.boldSelected=!1);this.boldSelected=!0,this.urlSelected=!1}else if("italic"==e){if(0!=this.italicSelected)return 1==this.boldSelected&&(this.text+=" **",this.styleCharacters="**"),void(this.italicSelected=!1);this.italicSelected=!0,this.urlSelected=!1}else"url"==e&&(0==this.urlSelected?this.urlSelected=!0:this.urlSelected=!1,this.italicSelected=!1,this.boldSelected=!1);1==this.italicSelected&&1==this.boldSelected?(this.text+=" _**_",this.styleCharacters="_**_"):1==this.boldSelected?(this.text+=" **",this.styleCharacters="**"):1==this.italicSelected?(this.text+=" _ _",this.styleCharacters="_ _"):1==this.urlSelected&&(this.text+=" <url|text>")},save:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.liveValidation=!0,0==this.check_text(this.text)&&(this.invalid=!0),0==this.check_title(this.title)&&(this.invalid=!0),1!=this.invalid){e.next=8;break}return this.invalid=!1,e.abrupt("return");case 8:if(null!=this.$route.params.id){e.next=21;break}return e.prev=9,e.next=12,ye.a.post(l+"/api/messages",{title:this.title,text:this.text},{headers:Qe});case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e["catch"](9),this.$emit("show-notification",-1),this.$router.go(-1),e.abrupt("return");case 19:e.next=31;break;case 21:return e.prev=21,e.next=24,ye.a.put(l+"/api/messages/"+this.$route.params.id,{title:this.title,text:this.text});case 24:e.next=31;break;case 26:return e.prev=26,e.t1=e["catch"](21),this.$emit("show-notification",-1),this.$router.go(-1),e.abrupt("return");case 31:this.$emit("reload-messages"),this.$emit("show-notification"),this.$router.go(-1);case 34:case"end":return e.stop()}},e,this,[[9,14],[21,26]])}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye.a.get(l+"/api/messages/"+this.$route.params.id);case 3:t=e.sent,this.title=t.data.title,this.text=t.data.text,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$emit("show-notification",-1);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()}},et=Ze,tt=(a("71a0"),Object(ke["a"])(et,Xe,We,!1,null,"fff7c3e2",null)),at=tt.exports,rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"formaS"}},[a("div",{staticClass:"form-style-10"},[a("form",{attrs:{id:"forma"}},[a("div",{staticClass:"section"},[a("p",{attrs:{id:"section-text"}},[a("span",{attrs:{id:"formTitle"}},[e._v(e._s(e.formType)+" Schedule")]),a("label",{attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("x")])])]),a("div",{staticClass:"inner-wrap"},[a("label",{staticClass:"la"},[e._v("Message")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.messageTitle,expression:"messageTitle"}],class:{errorBorder:e.showTitleError,noErrorBorder:!e.showTitleError},attrs:{name:"field1",id:"field1",disabled:"Update"==e.formType},on:{click:e.getMessageID,change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.messageTitle=t.target.multiple?a:a[0]}}},[a("option",{attrs:{id:"messageTitle",disabled:"",selected:""}},[e._v(e._s(e.messageTitle))]),e._l(e.messagesData,function(t){return a("option",{directives:[{name:"show",rawName:"v-show",value:e.showMessageOption,expression:"showMessageOption"}],key:t.messageId},[e._v(e._s(t.title))])})],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showTitleError,expression:"showTitleError"}]},[e._v("Message title is required")]),a("br"),a("label",{staticClass:"la"},[e._v("Run At")]),a("br"),a("div",{staticClass:"input-append date form_datetime"},[a("div",[a("date-picker",{staticStyle:{"margin-top":"8px"},attrs:{lang:e.lang,type:"datetime",format:"[On] YYYY-MM-DD [at] HH:mm","minute-step":1,disabled:"Update"==e.formType,confirm:""},model:{value:e.datetime,callback:function(t){e.datetime=t},expression:"datetime"}})],1)]),a("br"),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showDateError,expression:"showDateError"}]},[e._v("Date and time is required and must not be less then current date and time")]),a("br"),a("label",{staticClass:"la"},[e._v("Channel name")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.channelName,expression:"channelName"}],class:{errorBorder:e.showChannelError,noErrorBorder:!e.showChannelError},attrs:{id:"field3",disabled:"Update"==e.formType},on:{click:e.getChannelID,change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.channelName=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.channelName))]),e._l(e.channelsData,function(t){return a("option",{key:t.channelName},[e._v(e._s(t.channelName))])})],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showChannelError,expression:"showChannelError"}]},[e._v("Channel name is required")]),a("br"),a("br"),a("label",{staticClass:"container"},[a("p",{staticClass:"checkText"},[e._v("Repeat")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.repeat,expression:"repeat"}],attrs:{type:"checkbox",checked:"checked",disabled:"Update"==e.formType},domProps:{checked:Array.isArray(e.repeat)?e._i(e.repeat,null)>-1:e.repeat},on:{change:function(t){var a=e.repeat,r=t.target,n=!!r.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);r.checked?i<0&&(e.repeat=a.concat([o])):i>-1&&(e.repeat=a.slice(0,i).concat(a.slice(i+1)))}else e.repeat=n}}}),a("span",{staticClass:"checkmark"})]),a("br"),a("label",{staticClass:"container"},[a("p",{staticClass:"checkText"},[e._v("Active")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"active"}],attrs:{type:"checkbox",checked:"checked"},domProps:{checked:Array.isArray(e.active)?e._i(e.active,null)>-1:e.active},on:{change:function(t){var a=e.active,r=t.target,n=!!r.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);r.checked?i<0&&(e.active=a.concat([o])):i>-1&&(e.active=a.slice(0,i).concat(a.slice(i+1)))}else e.active=n}}}),a("span",{staticClass:"checkmark"})]),a("input",{attrs:{type:"button",value:"Save",id:"submit"},on:{click:e.save}}),a("input",{attrs:{type:"button",id:"cancel",value:"Cancel"},on:{click:e.exit}})])])])])},nt=[],ot=(a("14b9"),a("ea76")),it=a.n(ot),st={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},lt={name:"formaS",components:{DatePicker:it.a},data:function(){return{messagesData:[],channelsData:[],messageTitle:localStorage.getItem(re),channelName:localStorage.getItem(te),targetMess:"",messId:"",showTitleError:!1,showDateError:!1,showChannelError:!1,repeat:!1,active:!1,formType:"Create",showMessageOption:!0,channelId:"",targetChannel:"",datetime:new Date,date:"",time:"",lang:{days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],placeholder:{date:"Select Date",dateRange:"Select Date Range"},timePickersOptions:{start:"00:00",step:"00:10",end:"23:50"}}}},mounted:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n,o,i,s,c,u,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("en"!=localStorage.getItem(f)&&(document.getElementById("formTitle").innerHTML=localStorage.getItem(Q),document.getElementById("formTitle").style.color="black",document.getElementById("submit").value=localStorage.getItem(I),document.getElementById("cancel").value=localStorage.getItem(ae),document.getElementsByClassName("checkText")[0].innerHTML=localStorage.getItem(z),document.getElementsByClassName("la")[0].innerHTML=localStorage.getItem(N),document.getElementsByClassName("la")[1].innerHTML=localStorage.getItem(Z),document.getElementsByClassName("la")[2].innerHTML=localStorage.getItem(te),document.getElementsByClassName("checkText")[1].innerHTML=localStorage.getItem(D)),"Dark"==localStorage.getItem(v)&&(document.getElementsByClassName("form-style-10")[0].style.backgroundColor="#191919",document.getElementById("formTitle").style.color="white",document.getElementById("formaS").style.backgroundColor="#191919",document.getElementById("cancel").style.backgroundColor="#191919",document.getElementById("cancel").style.color="white",document.getElementsByClassName("inner-wrap")[0].style.backgroundColor="#191919",document.getElementsByClassName("mx-input")[0].style.backgroundColor="#191919",document.getElementsByTagName("label")[0].style.backgroundColor="#191919",document.getElementsByTagName("label")[1].style.backgroundColor="#191919",document.getElementsByTagName("label")[2].style.backgroundColor="#191919",document.getElementsByClassName("la")[2].style.backgroundColor="#191919"),null!=this.$route.params.id){e.next=15;break}return e.prev=3,e.next=6,ye.a.get(l+"/api/messages",{headers:st});case 6:t=e.sent,this.messagesData=t.data.content,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),this.$emit("show-notification",-1);case 13:e.next=59;break;case 15:if(a=this.$router.currentRoute.fullPath,r=a.substring(0,31),"/dashboard/messages/newSchedule"!=r){e.next=31;break}return n={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=19,e.next=22,ye.a.get(l+"/api/messages/"+this.$route.params.id,{headers:n});case 22:o=e.sent,this.messageTitle=o.data.title,e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](19),this.$emit("show-notification",-1);case 29:e.next=59;break;case 31:return this.formType="Update",e.prev=32,s={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=36,ye.a.get(l+"/api/schedules/"+this.$route.params.id,{headers:s});case 36:i=e.sent,this.active=i.data.active,this.repeat=i.data.repeat,this.messageTitle=i.data.message.title,this.date=i.data.runAt,this.messId=i.data.message.messageId,this.channelName=i.data.channel,e.next=48;break;case 45:e.prev=45,e.t2=e["catch"](32),this.$emit("show-notification",-1);case 48:return e.prev=48,c={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=52,ye.a.get(l+"/api/messages",{headers:c});case 52:u=e.sent,this.messagesData=u.data.content,e.next=59;break;case 56:e.prev=56,e.t3=e["catch"](48),this.$emit("show-notification",-1);case 59:return e.prev=59,e.next=62,ye.a.get(l+"/api/channels");case 62:m=e.sent,this.channelsData=m.data,e.next=69;break;case 66:e.prev=66,e.t4=e["catch"](59),this.$emit("show-notification",-1);case 69:case"end":return e.stop()}},e,this,[[3,10],[19,26],[32,45],[48,56],[59,66]])}));function t(){return e.apply(this,arguments)}return t}(),watch:{messageTitle:function(e){this.messageTitle=e,1==this.liveValidation&&this.check_messageTitle(e)},datetime:function(e){this.datetime=e,1==this.liveValidation&&this.check_date(e)},channelName:function(e){this.channelName=e,1==this.liveValidation&&this.check_channelName(e)}},methods:{exit:function(){this.$router.go(-1)},check_messageTitle:function(e){return"Some message title"==this.messageTitle?(this.showTitleError=!0,!1):(this.showTitleError=!1,!0)},check_channelName:function(e){return"Some channel name"==this.channelName?(this.showChannelError=!0,!1):(this.showChannelError=!1,!0)},check_date:function(e){var t=new Date,a=document.getElementsByClassName("mx-input")[0];return 1==(this.datetime.getFullYear()==t.getFullYear()&&this.datetime.getMonth()==t.getMonth()&&this.datetime.getDay()==t.getDay())?this.datetime.getHours()>t.getHours()?(this.showDateError=!1,a.style.borderColor="rgba(0, 0, 0, 0.2)",!0):this.datetime.getHours()==t.getHours()&&this.datetime.getMinutes()>t.getMinutes()?(this.showDateError=!1,a.style.borderColor="rgba(0, 0, 0, 0.2)",!0):(a.style.borderColor="red",this.showDateError=!0,!1):t>this.datetime?(a.style.borderColor="red",this.showDateError=!0,!1):(a.style.borderColor="rgba(0, 0, 0, 0.2)",this.showDateError=!1,!0)},save:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.liveValidation=!0,0==this.check_messageTitle(this.messageTitle)&&(this.invalid=!0),0==this.check_date(this.datetime)&&(this.invalid=!0),0==this.check_channelName(this.channelName)&&(this.invalid=!0),1!=this.invalid){e.next=7;break}return this.invalid=!1,e.abrupt("return");case 7:if(null==this.$route.params.id){e.next=33;break}if(t=this.$router.currentRoute.fullPath,a=t.substring(0,31),"/dashboard/messages/newSchedule"!=a){e.next=22;break}return e.prev=11,e.next=14,ye.a.post(l+"/api/schedules",{active:this.active,channelId:this.channelId,repeat:this.repeat,messageId:this.$route.params.id,runAt:this.datetime,intervalId:"1"},{headers:st});case 14:this.$emit("show-notification"),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](11),this.$emit("show-notification",-1);case 20:e.next=31;break;case 22:return e.prev=22,e.next=25,ye.a.put(l+"/api/schedules/"+this.$route.params.id+"?active=false");case 25:this.$emit("show-notification"),e.next=31;break;case 28:e.prev=28,e.t1=e["catch"](22),this.$emit("show-notification",-1);case 31:e.next=42;break;case 33:return e.prev=33,e.next=36,ye.a.post(l+"/api/schedules",{active:this.active,channelId:this.channelId,messageId:this.messId,repeat:this.repeat,runAt:this.datetime,intervalId:"1"},{headers:st});case 36:this.$emit("show-notification"),e.next=42;break;case 39:e.prev=39,e.t2=e["catch"](33),this.$emit("show-notification",-1);case 42:this.$emit("reload-schedules"),this.$router.go(-1);case 44:case"end":return e.stop()}},e,this,[[11,17],[22,28],[33,39]])}));function t(){return e.apply(this,arguments)}return t}(),getMessageID:function(){var e=this;this.messagesData.length>0&&(this.targetMess=this.messagesData.filter(function(t){return t.title==e.messageTitle}),this.messId=this.targetMess[0].messageId)},getChannelID:function(){var e=this;this.channelsData.length>1?(this.targetChannel=this.channelsData.filter(function(t){return t.channelName==e.channelName}),this.channelId=this.targetChannel[0].id):this.channelId=this.channelsData[0].id}}},ct=lt,ut=(a("c0d3"),Object(ke["a"])(ct,rt,nt,!1,null,"2e5ee408",null)),dt=ut.exports,mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"formaT"}},[a("div",{staticClass:"form-style-10"},[a("form",{attrs:{id:"forma"}},[a("div",{staticClass:"section"},[a("p",[a("span",{attrs:{id:"formTitle"}},[e._v("\n          "+e._s(e.formType)+" Trigger ")]),a("label",{attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("x")])])]),a("div",{staticClass:"inner-wrap"},[a("label",{staticClass:"la"},[e._v("Message")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.messageTitle,expression:"messageTitle"}],staticClass:"border",class:{errorBorder:e.showTitleError,noErrorBorder:!e.showTitleError},attrs:{id:"field1",disabled:"Update"==e.formType},on:{click:e.getMessageID,change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.messageTitle=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.messageTitle))]),e._l(e.messagesData,function(t){return a("option",{directives:[{name:"show",rawName:"v-show",value:e.showMessageOption,expression:"showMessageOption"}],key:t.messageId},[e._v(e._s(t.title))])})],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showTitleError,expression:"showTitleError"}]},[e._v("Message title is required")]),a("br"),a("label",{staticClass:"la"},[e._v("Trigger")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.triggerType,expression:"triggerType"}],staticClass:"border",class:{errorBorder:e.showTriggerError,noErrorBorder:!e.showTriggerError},attrs:{id:"field2",disabled:"Update"==e.formType},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.triggerType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[e._v("Some trigger type")]),e._l(e.triggersData,function(t){return a("option",{key:t.type},[e._v(e._s(t.type))])})],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showTriggerError,expression:"showTriggerError"}]},[e._v("Trigger type is required")]),a("br"),a("br"),a("label",{staticClass:"la"},[e._v("Channel name")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.channelName,expression:"channelName"}],staticClass:"border",class:{errorBorder:e.showChannelError,noErrorBorder:!e.showChannelError},attrs:{id:"field3",disabled:"Update"==e.formType},on:{click:e.getChannelID,change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.channelName=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.channelName))]),e._l(e.channelsData,function(t){return a("option",{key:t.channelName},[e._v(e._s(t.channelName))])})],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showChannelError,expression:"showChannelError"}]},[e._v("Channel name is required")]),a("br"),a("br"),a("label",{staticClass:"container"},[a("p",{staticClass:"checkText",attrs:{id:"active"}},[e._v("Active")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"active"}],attrs:{type:"checkbox",checked:"checked"},domProps:{checked:Array.isArray(e.active)?e._i(e.active,null)>-1:e.active},on:{change:function(t){var a=e.active,r=t.target,n=!!r.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);r.checked?i<0&&(e.active=a.concat([o])):i>-1&&(e.active=a.slice(0,i).concat(a.slice(i+1)))}else e.active=n}}}),a("span",{staticClass:"checkmark"})]),a("br"),a("br"),a("input",{attrs:{type:"button",value:"Save",id:"submit"},on:{click:e.save}}),a("input",{attrs:{type:"button",value:"Cancel",id:"cancel"},on:{click:e.exit}})])])])])},gt=[],ht=(localStorage.getItem(d),{name:"formaT",data:function(){return{messagesData:[],channelsData:[],triggersData:[],targetMess:"",messageTitle:localStorage.getItem(re),triggerType:localStorage.getItem(de),channelName:localStorage.getItem(te),active:!1,formType:"Create",messId:"",liveValidation:!1,showTitleError:!1,showTriggerError:!1,showChannelError:!1,showMessageOption:!0,channelId:"",targetChannel:""}},mounted:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n,o,i,s,c,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},"en"!=localStorage.getItem(f)&&(document.getElementById("formTitle").innerHTML=localStorage.getItem(ue),document.getElementById("formTitle").style.color="black",document.getElementById("active").innerHTML=localStorage.getItem(D),document.getElementById("cancel").value=localStorage.getItem(ae),document.getElementById("submit").value=localStorage.getItem(I)),"Dark"==localStorage.getItem(v)&&(document.getElementById("cancel").style.backgroundColor="#191919",document.getElementById("cancel").style.color="white",document.getElementById("formTitle").style.color="white",document.getElementById("formaT").style.backgroundColor="#191919",document.getElementsByClassName("inner-wrap")[0].style.backgroundColor="#191919",document.getElementsByTagName("label")[0].style.backgroundColor="#191919",document.getElementsByTagName("label")[1].style.backgroundColor="#191919",document.getElementsByTagName("label")[2].style.backgroundColor="#191919",document.getElementsByClassName("la")[2].style.backgroundColor="#191919"),null==this.$route.params.id){e.next=46;break}if(a=this.$router.currentRoute.fullPath,r=a.substring(0,30),"/dashboard/messages/newTrigger"!=r){e.next=19;break}return e.prev=7,e.next=10,ye.a.get(l+"/api/messages/"+this.$route.params.id);case 10:n=e.sent,this.messageTitle=n.data.title,e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](7),this.$emit("show-notification",-1);case 17:e.next=44;break;case 19:return this.formType="Update",e.prev=20,e.next=23,ye.a.get(l+"/api/triggers/"+this.$route.params.id);case 23:o=e.sent,this.messageTitle=o.data.message.title,this.channelName=o.data.channel,this.active=o.data.active,this.triggerType=o.data.triggerType,this.messId=o.data.message.messageId,e.next=34;break;case 31:e.prev=31,e.t1=e["catch"](20),this.$emit("show-notification",-1);case 34:return e.prev=34,e.next=37,ye.a.get(l+"/api/messages",{headers:t});case 37:i=e.sent,this.messagesData=i.data.content,e.next=44;break;case 41:e.prev=41,e.t2=e["catch"](34),this.$emit("show-notification",-1);case 44:e.next=56;break;case 46:return e.prev=46,e.next=49,ye.a.get(l+"/api/messages",{headers:t});case 49:s=e.sent,this.messagesData=s.data.content,e.next=56;break;case 53:e.prev=53,e.t3=e["catch"](46),this.$emit("show-notification",-1);case 56:return e.prev=56,e.next=59,ye.a.get(l+"/api/channels");case 59:c=e.sent,this.channelsData=c.data,e.next=66;break;case 63:e.prev=63,e.t4=e["catch"](56),this.$emit("show-notification",-1);case 66:return e.prev=66,e.next=69,ye.a.get(l+"/api/slack-triggers");case 69:u=e.sent,this.triggersData=u.data,e.next=76;break;case 73:e.prev=73,e.t5=e["catch"](66),this.$emit("show-notification",-1);case 76:case"end":return e.stop()}},e,this,[[7,14],[20,31],[34,41],[46,53],[56,63],[66,73]])}));function t(){return e.apply(this,arguments)}return t}(),watch:{messageTitle:function(e){this.messageTitle=e,1==this.liveValidation&&this.check_messageTitle(e)},triggerType:function(e){this.triggerType=e,1==this.liveValidation&&this.check_triggerType(e)},channelName:function(e){this.channelName=e,1==this.liveValidation&&this.check_channelName(e)}},methods:{exit:function(){this.$router.go(-1)},check_messageTitle:function(e){return"Some message title"==this.messageTitle?(this.showTitleError=!0,!1):(this.showTitleError=!1,!0)},check_triggerType:function(e){return"Some trigger type"==this.triggerType?(this.showTriggerError=!0,!1):(this.showTriggerError=!1,!0)},check_channelName:function(e){return"Some channel name"==this.channelName?(this.showChannelError=!0,!1):(this.showChannelError=!1,!0)},save:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},this.liveValidation=!0,0==this.check_messageTitle(this.messageTitle)&&(this.invalid=!0),0==this.check_triggerType(this.triggerType)&&(this.invalid=!0),0==this.check_channelName(this.channelName)&&(this.invalid=!0),1!=this.invalid){e.next=8;break}return this.invalid=!1,e.abrupt("return");case 8:if(null==this.$route.params.id){e.next=38;break}if(a=this.$router.currentRoute.fullPath,r=a.substring(0,30),"/dashboard/messages/newTrigger"!=r){e.next=23;break}return e.prev=12,e.next=15,ye.a.post(l+"/api/triggers",{channelId:this.channelId,triggerType:this.triggerType,active:this.active,messageId:this.$route.params.id},{headers:t});case 15:this.$emit("show-notification"),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](12),this.$emit("show-notification",-1);case 21:e.next=36;break;case 23:return e.prev=23,e.next=26,ye.a.get(l+"/api/messages",{headers:t});case 26:return n=e.sent,this.messagesData=n.data.content,e.next=30,ye.a.put(l+"/api/triggers/"+this.$route.params.id+"?active="+this.active);case 30:this.$emit("show-notification"),e.next=36;break;case 33:e.prev=33,e.t1=e["catch"](23),this.$emit("show-notification",-1);case 36:e.next=47;break;case 38:return e.prev=38,e.next=41,ye.a.post(l+"/api/triggers",{active:this.active,messageId:this.messId,triggerType:this.triggerType,channelId:this.channelId},{headers:t});case 41:this.$emit("show-notification"),e.next=47;break;case 44:e.prev=44,e.t2=e["catch"](38),this.$emit("show-notification",-1);case 47:this.$emit("reload-triggers"),this.$router.go(-1);case 49:case"end":return e.stop()}},e,this,[[12,18],[23,33],[38,44]])}));function t(){return e.apply(this,arguments)}return t}(),getMessageID:function(){var e=this;this.messagesData.length>1?(this.targetMess=this.messagesData.filter(function(t){return t.title==e.messageTitle}),this.messId=this.targetMess[0].messageId):this.messId=this.messagesData[0].messageId},getChannelID:function(){var e=this;this.channelsData.length>1?(this.targetChannel=this.channelsData.filter(function(t){return t.channelName==e.channelName}),this.channelId=this.targetChannel[0].id):this.channelId=this.channelsData[0].id}}}),pt=ht,vt=(a("d2e4"),Object(ke["a"])(pt,mt,gt,!1,null,"a34714a8",null)),ft=vt.exports,yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"formaU"}},[a("div",{attrs:{id:"form-style-10"}},[a("form",{attrs:{id:"forma"}},[a("div",{attrs:{id:"section"}},[a("p",[a("span",{attrs:{id:"createUser"}},[e._v("Create User")]),a("label",{staticStyle:{"font-size":"20px"},attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("X")])])]),a("div",{attrs:{id:"inner-wrap"}},[a("label",{staticClass:"la"},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:{errorBorder:e.emailError,noErrorBorder:!e.emailError},attrs:{type:"text",name:"field1",id:"field1",placeholder:"New user email",autocomplete:"off"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.emailError,expression:"emailError"}]},[e._v("Email address is not valid")]),a("br"),a("label",{staticClass:"la"},[e._v("Role")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.roleType,expression:"roleType"}],class:{errorBorder:e.roleError,noErrorBorder:!e.roleError},attrs:{id:"field2"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.roleType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.roleType))]),e._l(e.role,function(t){return a("option",{key:t.name},[e._v(e._s(t))])})],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.roleError,expression:"roleError"}]},[e._v("User role is required")]),a("input",{staticClass:"input-options",attrs:{type:"button",value:"Save",id:"submit"},on:{click:e.save}}),a("input",{staticClass:"input-options",attrs:{type:"button",value:"Cancel",id:"cancle"},on:{click:e.exit}})])])])])},wt=[],bt=(localStorage.getItem(d),{name:"formaU",data:function(){return{email:"",role:["ADMIN",localStorage.getItem(ie)],roleType:localStorage.getItem(Y),emailError:!1,roleError:!1,liveValidation:!1,invalid:!1,formType:"Create",rule:/.*\@\w{1,}\.\w{1,}/}},mounted:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:"light"==localStorage.getItem(v)?document.getElementById("form-style-10").style.backgroundColor="white":"dark"==localStorage.getItem(v)&&(document.getElementById("form-style-10").style.backgroundColor="black"),"en"!=localStorage.getItem(f)&&(document.getElementById("createUser").innerHTML=localStorage.getItem(J),document.getElementById("field1").placeholder=localStorage.getItem(K),document.getElementById("createUser").style.color="black",document.getElementsByTagName("LABEL")[2].innerHTML=localStorage.getItem(R),document.getElementById("cancle").value=localStorage.getItem(ae),document.getElementsByTagName("INPUT")[1].value=localStorage.getItem(I)),"Dark"==localStorage.getItem(v)&&(document.getElementById("cancle").style.backgroundColor="#191919",document.getElementById("cancle").style.color="white",document.getElementById("createUser").style.color="white",document.getElementById("form-style-10").style.backgroundColor="#191919",document.getElementById("inner-wrap").style.backgroundColor="#191919",document.getElementsByTagName("label")[0].style.backgroundColor="#191919",document.getElementsByTagName("label")[1].style.backgroundColor="#191919",document.getElementsByTagName("label")[2].style.backgroundColor="#191919");case 3:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{exit:function(){this.$router.go(-1)},save:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("KORISNIK"==this.roleType&&(this.roleType="USER"),t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},this.liveValidation=!0,0==this.check_email(this.email)&&(this.invalid=!0),0==this.check_roleType(this.roleType)&&(this.invalid=!0),1!=this.invalid){e.next=10;break}return this.invalid=!1,e.abrupt("return");case 10:if(null!=this.$route.params.id){e.next=23;break}return e.prev=11,e.next=14,ye.a.post(l+"/user/create",{email:this.email,role:this.roleType},{headers:t});case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e["catch"](11),this.$emit("show-notification",-1),this.$router.go(-1),e.abrupt("return");case 21:e.next=33;break;case 23:return e.prev=23,e.next=26,ye.a.get(l+"/user/getAllUsers/"+this.$route.params.id,{title:this.title,text:this.text},{headers:t});case 26:e.next=33;break;case 28:return e.prev=28,e.t1=e["catch"](23),this.$emit("show-notification",-1),this.$router.go(-1),e.abrupt("return");case 33:this.$emit("reload-users"),this.$emit("show-notification"),this.$router.go(-1);case 36:case"end":return e.stop()}},e,this,[[11,16],[23,28]])}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,ye.a.get(l+"/user/getAllUsers/"+this.$route.params.id,{headers:t});case 4:a=e.sent,this.title=a.data.title,this.text=a.data.text,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.$emit("show-notification",-1);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));function t(){return e.apply(this,arguments)}return t}(),check_email:function(e){return this.rule.test(e)?(this.emailError=!1,!0):(this.emailError=!0,!1)},check_roleType:function(e){return"New user role"==this.roleType?(this.roleError=!0,!1):(this.roleError=!1,!0)}},watch:{email:function(e){this.email=e,1==this.liveValidation&&this.check_email(e)},roleType:function(e){this.triggerType=e,1==this.liveValidation&&this.check_roleType(e)}}}),kt=bt,St=(a("e6f5"),Object(ke["a"])(kt,yt,wt,!1,null,"0bbd613e",null)),It=St.exports,_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"user"}},[a("router-view",{on:{"reload-users":function(t){return e.reloadUsers()}}}),e._m(0),a("div",{attrs:{id:"divlist"}},[a("ul",{attrs:{id:"list"}},[a("li",{attrs:{id:"title-li"}},[a("div",{staticClass:"column1 column"},[a("h5",[e._v("Name")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by name"},on:{click:function(t){return e.sortBy("name")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column2 column"},[a("h5",[e._v("Email")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by email"},on:{click:function(t){return e.sortBy("email")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column3 column"},[a("h5",[e._v("Role")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by role"},on:{click:function(t){return e.sortBy("role")}}},[e._v("arrow_drop_down")])])]),e._m(1)]),e._l(e.usersData,function(t){return a("li",{key:t.id},[a("div",{staticClass:"linear2"}),a("div",{staticClass:"linear1"}),a("div",{staticClass:"column1 column"},[a("p",[e._v(e._s(t.name))])]),a("div",{staticClass:"column2 column"},[a("p",[e._v(e._s(t.email))])]),a("div",{staticClass:"column3 column"},[a("p",[e._v(e._s(t.role))])]),a("div",{staticClass:"column4 column"},[a("i",{staticClass:"material-icons",attrs:{title:"Delete user"},on:{click:function(a){return e.deleteUser(t.id)}}},[e._v("delete")])])])})],2)]),a("div",{attrs:{id:"footer"}},[a("button",{attrs:{id:"footer-btn"},on:{click:e.toggleMenu}},[e._v(e._s(this.rowSize)+" Rows")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menu,expression:"menu"}],attrs:{id:"menu"}},e._l(e.rowSizesValue,function(t){return a("div",{key:t,staticClass:"menu-article",on:{click:function(a){return e.setRows(t)}}},[e._v(e._s(t))])}),0),a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:e.pagesSize,"total-visible":5},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]),a("button",{attrs:{id:"btn"},on:{click:e.showUserForm}},[e._v("+")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNotificationValue,expression:"showNotificationValue"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.showNotification}},[e._v("OK")])])],1)},Et=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",[e._v("Users")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column4 column"},[a("p",[a("i",{staticClass:"material-icons"},[e._v("filter_list")])])])}],Tt=a("bd86"),Bt=(localStorage.getItem(d),{name:"user",data:function(){var e;return e={usersData:[],textNoti:"",showNoti:!1,rowSizesValue:[5,10,20],rowSize:20,page:1,pagesSize:1,menu:!1,sortByValue:"role",sortType:"desc"},Object(Tt["a"])(e,"textNoti",""),Object(Tt["a"])(e,"errorOccured",!1),Object(Tt["a"])(e,"showNotificationValue",!1),e},mounted:function(){localStorage.getItem(d);"Light"==localStorage.getItem(v)?(this.$emit("change-light"),document.getElementById("header").style.backgroundColor="white",document.getElementById("divlist").style.backgroundColor="white"):"Dark"==localStorage.getItem(v)&&(this.$emit("change-dark"),document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("user").style.color="#f1f1f1",document.getElementById("footer").style.backgroundColor="#191919",document.getElementById("divlist").style.backgroundColor="#4c4c4c",document.getElementById("header").style.backgroundColor="#191919",document.getElementById("user").style.backgroundColor="#191919",document.getElementById("title-li").style.backgroundColor="#323232",document.getElementById("title-li").style.color="#f1f1f1",document.getElementsByTagName("H5")[0].style.color="#f1f1f1",document.getElementsByTagName("H5")[1].style.color="#f1f1f1",document.getElementsByTagName("H5")[2].style.color="#f1f1f1"),"en"!=localStorage.getItem(f)&&(document.getElementsByTagName("H1")[0].innerHTML=localStorage.getItem(E),document.getElementsByTagName("H5")[0].innerHTML=localStorage.getItem(P),document.getElementsByTagName("H5")[2].innerHTML=localStorage.getItem(R)),this.create()},methods:{toggleMenu:function(){this.menu=!this.menu},hideMenu:function(){this.menu=!1},setRows:function(e){e!=this.rowSize&&(this.rowSize=e,this.reloadUsers()),this.menu=!this.menu},changePage:function(e){this.page=e,this.reloadUsers(e-1)},closeNotification:function(){this.showNotificationValue=!1},showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNotificationValue=!this.showNotificationValue,setTimeout(this.closeNotification,1500)},editUser:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/dashboard/messages/updateUser/"+t);case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),deleteUser:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){var a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,ye.a.delete(l+"/user/"+t,{headers:a});case 3:return r=this.page-1,e.prev=4,e.next=7,ye.a.get(l+"/user/getAllUsers?page="+r+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:a});case 7:n=e.sent,0==n.data.numberOfElements&&1!=this.page&&this.changePage(this.page-1),this.usersData=n.data.content,0==n.data.totalPages?this.pagesSize=1:this.pagesSize=n.data.totalPages,this.showNotification(200),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),this.showNotification(-1);case 17:case"end":return e.stop()}},e,this,[[4,14]])}));function t(t){return e.apply(this,arguments)}return t}(),reloadUsers:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},a=this.page-1,e.prev=2,e.next=5,ye.a.get(l+"/user/getAllUsers?page="+a+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:t});case 5:r=e.sent,r.data.totalPages<this.page&&this.changePage(r.data.totalPages),this.usersData=r.data.content,this.pagesSize=r.data.totalPages,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.showNotification(-1);case 14:case"end":return e.stop()}},e,this,[[2,11]])}));function t(){return e.apply(this,arguments)}return t}(),showUserForm:function(){this.$router.push("/dashboard/user/newUser")},create:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,ye.a.get(l+"/user/getAllUsers?page=0&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:t});case 4:a=e.sent,this.usersData=a.data.content,0==a.data.totalPages?this.pagesSize=1:this.pagesSize=a.data.totalPages,this.rowSize=a.data.size,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.showNotification(-1);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));function t(){return e.apply(this,arguments)}return t}(),sortBy:function(e){"desc"==this.sortType?this.sortType="asc":this.sortType="desc",this.sortByValue=e,this.reloadUsers()}},directives:{ClickOutside:Ce.a}}),Ct=Bt,xt=(a("64d8"),Object(ke["a"])(Ct,_t,Et,!1,null,"6c7f4432",null)),Nt=xt.exports;ze()(xt,{VPagination:$e["a"]});var Mt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ot=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("div",{attrs:{id:"right"}},[a("div",{attrs:{id:"right-content"}},[a("a",{attrs:{id:"btn btn-block social-btn google",href:""}},[a("div",{attrs:{id:"google-sign"}})])])]),a("div",{attrs:{id:"left"}},[a("div",{attrs:{id:"logo"}}),a("br"),a("br"),a("h1",[e._v("Welcome Bot")])])])}],zt={name:"login",methods:{},mounted:function(){document.getElementById("btn btn-block social-btn google").href=u}},$t=zt,Ht=(a("1661"),Object(ke["a"])($t,Mt,Ot,!1,null,"2e7e05c3",null)),Dt=Ht.exports,Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Dashboard"}},[a("div",{attrs:{id:"nav-bar"}},[a("navigation")],1),a("div",{attrs:{id:"dropdown"}},[a("v-menu",{attrs:{"open-on-hover":"",top:"","offset-y":"","offset-x":"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("div",e._g({attrs:{id:"usersdata"}},r),[a("i",{staticClass:"material-icons",attrs:{id:"icon"}},[e._v("arrow_drop_down")]),a("button",{attrs:{id:"picture"}},[a("img",{staticClass:"img-circle",attrs:{id:"pic",width:"80",height:"70"}})]),a("div",{attrs:{id:"credentials"}},[a("h3",{attrs:{id:"name"}}),a("br"),a("p",{attrs:{id:"email"}})])])]}}])},[a("ul",{attrs:{id:"settings"}},e._l(e.items,function(t,r){return a("li",{key:r,staticClass:"options",on:{click:function(t){return e.showDropdown(r)}}},[a("p",{staticClass:"option"},[e._v(e._s(t.title))])])}),0)])],1),a("div",{attrs:{id:"dashboard"}},[a("div",{attrs:{id:"table"}},[a("router-view",{on:{"change-language":function(t){return e.Translate()}}})],1)])])},Rt=[],Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab"},[a("div",{staticClass:"tablinks",attrs:{id:"logo"}}),a("router-link",{staticClass:"router-link",attrs:{to:"/dashboard/messages"}},[a("button",{staticClass:"active"},[a("v-icon",{staticStyle:{"margin-bottom":"10px"},attrs:{color:"white"}},[e._v("local_post_office")]),a("br"),a("span",[e._v("Messages")])],1)]),a("router-link",{staticClass:"router-link",attrs:{to:"/dashboard/schedules"}},[a("button",[a("v-icon",{staticStyle:{"margin-bottom":"10px"},attrs:{color:"white"}},[e._v("assignment_turned_in")]),a("br"),a("span",[e._v("Schedules")])],1)]),a("router-link",{staticClass:"router-link",attrs:{to:"/dashboard/triggers"}},[a("button",[a("v-icon",{staticStyle:{"margin-bottom":"10px"},attrs:{color:"white"}},[e._v("assistant")]),a("br"),a("span",[e._v("Triggers")])],1)]),a("router-link",{staticClass:"router-link",attrs:{to:"/dashboard/poll"}},[a("button",[a("v-icon",{staticStyle:{"margin-bottom":"10px"},attrs:{color:"white",size:"32"}},[e._v("poll")]),a("br"),a("span",[e._v("Poll")])],1)]),a("div",{staticClass:"notification"},[a("span",{attrs:{id:"notificationNumber"}},[e._v(e._s(e.notificationNumber))])]),a("router-link",{staticClass:"router-link",attrs:{to:"/dashboard/activity"}},[a("button",[a("v-icon",{staticStyle:{"margin-bottom":"10px"},attrs:{color:"white",size:"32"}},[e._v("track_changes")]),a("br"),a("span",[e._v("Activity log")])],1)]),a("router-link",{staticClass:"router-link",attrs:{to:"/dashboard/user"}},[a("button",{attrs:{id:"usertab"}},[a("v-icon",{staticStyle:{"margin-bottom":"10px"},attrs:{color:"white",size:"32"}},[e._v("person")]),a("br"),a("span",[e._v("Users")])],1)])],1)},Vt=[],At=(a("4be7"),{name:"navigation",data:function(){return{notificationNumber:0,userId:0}},mounted:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,ye.a.get(l+"/user/me",{headers:t}).then(function(e){return localStorage.setItem(g,e.data.email),localStorage.setItem(h,e.data.name),localStorage.setItem(p,e.data.imageUrl),localStorage.setItem(m,e.data.role),localStorage.setItem(v,e.data.userSettings.theme),localStorage.setItem(f,e.data.userSettings.language),ye.a.get(l+"/user/translation",{params:{language:localStorage.getItem(f)},headers:t}).then(function(e){for(var t in e.data)e.data.hasOwnProperty(t)&&localStorage.setItem(t,e.data[t])},function(e){console.log(e)})}).catch(function(e){console.log(e)});case 3:"ADMIN"!=localStorage.getItem(m)&&(document.getElementById("usertab").style.display="none"),"fr"==localStorage.getItem(f)&&(document.getElementsByTagName("span")[0].innerHTML=localStorage.getItem(_),document.getElementsByTagName("span")[1].innerHTML=localStorage.getItem(T),document.getElementsByTagName("span")[2].innerHTML=localStorage.getItem(B),document.getElementsByTagName("span")[3].innerHTML=localStorage.getItem(A),document.getElementsByTagName("span")[5].innerHTML=localStorage.getItem(V),document.getElementsByTagName("span")[6].innerHTML=localStorage.getItem(E)),this.subscribeToNotification();case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{Translate:function(){"fr"==localStorage.getItem(f)&&(document.getElementsByTagName("span")[0].innerHTML=localStorage.getItem(_),document.getElementsByTagName("span")[1].innerHTML=localStorage.getItem(T),document.getElementsByTagName("span")[2].innerHTML=localStorage.getItem(B),document.getElementsByTagName("span")[3].innerHTML=localStorage.getItem(A),document.getElementsByTagName("span")[4].innerHTML=localStorage.getItem(V),document.getElementsByTagName("span")[5].innerHTML=localStorage.getItem(E))},subscribeToNotification:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},a=this,this.source=null,e.next=5,ye.a.get(l+"/user/me",{headers:t}).then(function(e){r.userId=e.data.id}).catch(function(e){console.log(e)});case 5:this.source=new EventSource(l+"/api/logs/new-logs-stream/"+this.userId),this.source.addEventListener("new-log-event",function(e){JSON.parse(e.data);a.notificationNumber=e.data}),this.source.onerror=function(){console.log("TESTERRR"),this.close()};case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}}),jt=At,Ut=(a("9028"),a("132d")),Ft=Object(ke["a"])(jt,Lt,Vt,!1,null,null,null),qt=Ft.exports;ze()(Ft,{VIcon:Ut["a"]});var Jt={name:"Dashboard",components:{navigation:qt},data:function(){return{items:[{title:"Profile"},{title:"Settings"},{title:"Log Out"}]}},mounted:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,ye.a.get(l+"/user/me",{headers:t}).then(function(e){return localStorage.setItem(g,e.data.email),localStorage.setItem(h,e.data.name),localStorage.setItem(p,e.data.imageUrl),localStorage.setItem(m,e.data.role),localStorage.setItem(v,e.data.userSettings.theme),localStorage.setItem(f,e.data.userSettings.language),ye.a.get(l+"/user/translation",{params:{language:localStorage.getItem(f)},headers:t}).then(function(e){for(var t in e.data)e.data.hasOwnProperty(t)&&localStorage.setItem(t,e.data[t])},function(e){console.log(e)})}).catch(function(e){console.log(e)});case 3:document.getElementById("email").innerHTML=localStorage.getItem(g),document.getElementById("name").innerHTML=localStorage.getItem(h),document.getElementById("pic").src=localStorage.getItem(p),"fr"==localStorage.getItem(f)&&(document.getElementsByClassName("option")[0].innerHTML=localStorage.getItem(q),document.getElementsByClassName("option")[1].innerHTML=localStorage.getItem(y),document.getElementsByClassName("option")[2].innerHTML=localStorage.getItem(F)),"Dark"==localStorage.getItem(v)&&(document.getElementById("dropdown").color="");case 8:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}(),methods:{showDropdown:function(e){0==e?this.$router.push("/profile"):1==e?this.$router.push("/settings"):2==e&&(localStorage.setItem(d,""),localStorage.setItem(m,""),localStorage.setItem(v,""),localStorage.setItem(m,""),localStorage.setItem(g,""),localStorage.setItem(f,""),localStorage.setItem(h,""),localStorage.setItem(p,""),this.$router.push("/login"))},Translate:function(){"fr"==localStorage.getItem(f)&&(this.items[0].title=localStorage.getItem(q),this.items[1].title=localStorage.getItem(y),this.items[2].title=localStorage.getItem(F)),qt.methods.Translate()}}},Kt=Jt,Yt=(a("4a36"),a("e449")),Gt=Object(ke["a"])(Kt,Pt,Rt,!1,null,"a8e8116c",null),Xt=Gt.exports;ze()(Gt,{VMenu:Yt["a"]});var Wt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Qt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"profile1"}},[a("div",{attrs:{id:"header"}},[a("h1",[e._v("Profile")])]),a("br"),a("div",{staticClass:"data",attrs:{id:"profile"}},[a("img",{staticClass:"img-circle",attrs:{id:"pic1",width:"100",height:"100"}}),a("br"),a("br"),a("p",[a("strong",[e._v("Name:")])]),a("p",{attrs:{id:"name1"}}),a("br"),a("p",[a("strong",[e._v("Email:")])]),a("p",{attrs:{id:"email1"}}),a("br"),a("p",[a("strong",[e._v("Language:")])]),a("p",{attrs:{id:"language1"}}),a("br"),a("p",[a("strong",[e._v("Theme:")])]),a("p",{attrs:{id:"theme1"}}),a("br"),a("p",[a("strong",[e._v("Role:")])]),a("p",{attrs:{id:"role1"}}),a("br")])])}],Zt={name:"profil",mounted:function(){document.getElementById("email1").innerHTML=localStorage.getItem(g),document.getElementById("name1").innerHTML=localStorage.getItem(h),document.getElementById("pic1").src=localStorage.getItem(p),document.getElementById("language1").innerHTML=localStorage.getItem("language"+localStorage.getItem(f).toUpperCase()),document.getElementById("theme1").innerHTML=localStorage.getItem(v),document.getElementById("role1").innerHTML=localStorage.getItem(m),"Light"==localStorage.getItem(v)?(this.$emit("change-light"),document.getElementById("profile1").style.backgroundColor="white",document.getElementById("profile1").style.color="black"):"Dark"==localStorage.getItem(v)&&(this.$emit("change-dark"),document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("profile").style.backgroundColor="#191919",document.getElementById("profile").style.color="black",document.getElementById("header").style.backgroundColor="black",document.getElementById("table").style.backgroundColor="black",document.getElementById("profile").style.color="white"),"en"!=localStorage.getItem(f)&&(document.getElementsByTagName("H1")[0].innerHTML=localStorage.getItem(q),document.getElementsByTagName("P")[4].innerHTML=localStorage.getItem(P)+":",document.getElementsByTagName("P")[8].innerHTML=localStorage.getItem(S)+":",document.getElementsByTagName("P")[10].innerHTML=localStorage.getItem(w),document.getElementsByTagName("P")[12].innerHTML=localStorage.getItem(R)+":",document.getElementById("submit").innerHTML=localStorage.getItem(F))},methods:{signOut:function(){localStorage.setItem(d,""),localStorage.setItem(m,""),localStorage.setItem(w,""),localStorage.setItem(m,""),localStorage.setItem(g,""),localStorage.setItem(f,""),localStorage.setItem(h,""),localStorage.setItem(p,""),alert("You're safely logged out!"),this.$router.push("/login")}}},ea=Zt,ta=(a("1cc2"),Object(ke["a"])(ea,Wt,Qt,!1,null,"9bd3b7ee",null)),aa=ta.exports,ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"settings2"}},[a("router-view"),e._m(0),a("div",{staticClass:"data",attrs:{id:"profile"}},[a("br"),a("br"),a("div",{attrs:{id:"select1"}},[a("button",{attrs:{id:"color"}},[e._v("Select Theme")]),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.picked1,expression:"picked1"}],attrs:{type:"radio",id:"one",value:"Dark"},domProps:{checked:e._q(e.picked1,"Dark")},on:{click:function(t){return e.showThemeSettings("Dark")},change:function(t){e.picked1="Dark"}}}),a("label",{attrs:{id:"dark",for:"one"}},[e._v("Dark")]),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.picked1,expression:"picked1"}],attrs:{type:"radio",id:"two",value:"Light"},domProps:{checked:e._q(e.picked1,"Light")},on:{click:function(t){return e.showThemeSettings("Light")},change:function(t){e.picked1="Light"}}}),a("label",{attrs:{id:"light",for:"two"}},[e._v("Light")]),a("br"),a("br"),a("br")]),a("br"),a("div",{attrs:{id:"select2"}},[a("button",{attrs:{id:"language"}},[e._v("Select Language")]),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.picked2,expression:"picked2"}],attrs:{type:"radio",id:"one1",value:"English"},domProps:{checked:e._q(e.picked2,"English")},on:{click:function(t){return e.showLanguageSettings("en")},change:function(t){e.picked2="English"}}}),a("label",{attrs:{id:"english",for:"one1"}},[e._v("English")]),a("br"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.picked2,expression:"picked2"}],attrs:{type:"radio",id:"two1",value:"Bosnian"},domProps:{checked:e._q(e.picked2,"Bosnian")},on:{click:function(t){return e.showLanguageSettings("fr")},change:function(t){e.picked2="Bosnian"}}}),a("label",{attrs:{id:"bosnian",for:"two1"}},[e._v("Bosnian")]),a("br"),a("br"),a("br")]),a("input",{attrs:{type:"button",value:"Save",id:"submit"},on:{click:function(t){return e.Save()}}})])],1)},na=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",{attrs:{id:"title"}},[e._v("Settings")])])}],oa=(localStorage.getItem(d),{name:"settings2",data:function(){return{picked1:"",picked2:""}},mounted:function(){"Light"==localStorage.getItem(v)?(document.getElementById("two").checked=!0,this.$emit("change-light"),document.getElementById("settings2").style.backgroundColor="white",document.getElementById("settings2").style.color="black",document.getElementById("header").style.backgroundColor="white"):"Dark"==localStorage.getItem(v)&&(document.getElementById("one").checked=!0,this.$emit("change-dark"),document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("settings2").style.backgroundColor="black",document.getElementById("header").style.backgroundColor="black",document.getElementById("profile").style.backgroundColor="#191919",document.getElementById("select1").style.color="white",document.getElementById("select2").style.color="white"),document.getElementById("one1").checked=!0,"fr"==localStorage.getItem(f)&&(document.getElementById("two1").checked=!0,document.getElementById("one1").checked=!1,document.getElementById("color").innerHTML=localStorage.getItem(b),document.getElementById("language").innerHTML=localStorage.getItem(k),document.getElementById("title").innerHTML=localStorage.getItem(y),document.getElementById("submit").value=localStorage.getItem(I),document.getElementById("english").innerHTML=localStorage.getItem(ne),document.getElementById("bosnian").innerHTML=localStorage.getItem(oe),document.getElementById("dark").innerHTML=localStorage.getItem(me),document.getElementById("light").innerHTML=localStorage.getItem(ge))},methods:{showLanguageSettings:function(e){document.getElementById("one1").checked=!1,document.getElementById("two1").checked=!1,"en"==e?document.getElementById("one1").checked=!0:document.getElementById("two1").checked=!0},showThemeSettings:function(e){document.getElementById("one").checked=!1,document.getElementById("two").checked=!1,"Dark"==e?(document.getElementById("one").checked=!0,this.$emit("change-dark"),document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("settings2").style.backgroundColor="black",document.getElementById("header").style.backgroundColor="black",document.getElementById("profile").style.backgroundColor="#191919",document.getElementById("select1").style.color="white",document.getElementById("select2").style.color="white"):"Light"==e&&(document.getElementById("two").checked=!0,this.$emit("change-light"),document.getElementsByTagName("H1")[0].style.color="black",document.getElementById("header").style.backgroundColor="white",document.getElementById("settings2").style.backgroundColor="white",document.getElementById("settings2").style.color="black",document.getElementById("profile").style.backgroundColor="#f1f1f1",document.getElementById("select1").style.color="black",document.getElementById("select2").style.color="black")},Save:function(){var e=this,t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)};"English"==this.picked2?localStorage.setItem(f,"en"):"Bosnian"==this.picked2&&localStorage.setItem(f,"fr"),""!=this.picked1&&localStorage.setItem(v,this.picked1),ye.a.post(l+"/user/userSettings",{theme:localStorage.getItem(v),language:localStorage.getItem(f)},{headers:t}).then(function(a){return localStorage.setItem(v,a.data.theme),localStorage.setItem(f,a.data.language),console.log(a),ye.a.get(l+"/user/translation",{params:{language:localStorage.getItem(f)},headers:t}).then(function(t){for(var a in t.data)t.data.hasOwnProperty(a)&&localStorage.setItem(a,t.data[a]);document.getElementById("color").innerHTML=localStorage.getItem(b),document.getElementById("language").innerHTML=localStorage.getItem(k),document.getElementById("title").innerHTML=localStorage.getItem(y),document.getElementById("submit").value=localStorage.getItem(I),document.getElementById("english").innerHTML=localStorage.getItem(ne),document.getElementById("bosnian").innerHTML=localStorage.getItem(oe),document.getElementById("dark").innerHTML=localStorage.getItem(me),document.getElementById("light").innerHTML=localStorage.getItem(ge),e.picked1="",e.picked2="","en"!=localStorage.getItem(f)&&(document.getElementById("one1").checked=!1,document.getElementById("two1").checked=!0),"Light"==localStorage.getItem(v)?document.getElementById("two").checked=!0:"Dark"==localStorage.getItem(v)&&(document.getElementById("one").checked=!0),e.$emit("change-language"),window.location.reload(),console.log(t)},function(e){console.log(e)})},function(e){console.log(e)})}}}),ia=oa,sa=(a("4116"),Object(ke["a"])(ia,ra,na,!1,null,"29cb78e0",null)),la=sa.exports,ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"OAuth2RedirectHandler"}})},ua=[],da=(a("386d"),a("3b2b"),a("a481"),{name:"o-auth2-redirect-handler",mounted:function(){var e=this.getUrlParameter("token");e?(localStorage.setItem(d,e),this.$router.push("/dashboard/messages")):this.$router.push("/error")},methods:{getUrlParameter:function(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),a=t.exec(window.location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}}}),ma=da,ga=Object(ke["a"])(ma,ca,ua,!1,null,null,null),ha=ga.exports,pa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"error"}},[r("img",{staticClass:"img-circle",attrs:{id:"pic",width:"500",height:"300",src:a("16f4")}}),r("h1",[e._v(" 404 Error")]),r("div",{staticClass:"data"},[r("br"),r("br"),r("p",{staticClass:"center1"},[e._v("  Error occured while loading the resources. ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center1"},[e._v(" Please login again. ")]),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("br"),r("input",{attrs:{type:"button",value:"Go back to the login page",id:"submit"},on:{click:function(t){return e.goBack()}}})])])},va=[],fa={name:"error",mounted:function(){"en"!=localStorage.getItem(USER_LANGUAGE)&&(document.getElementsByTagName("H1").innerHTML=localStorage.getItem(ERROR)),"light"==localStorage.getItem(THEME)?document.getElementById("error").style.backgroundColor="white":"dark"==localStorage.getItem(THEME)&&(document.getElementById("error").style.backgroundColor="black"),localStorage.setItem(d,""),localStorage.setItem(CURRENT_USER_ROLE,""),localStorage.setItem(THEME,""),localStorage.setItem(CURRENT_USER_ROLE,""),localStorage.setItem(USER_EMAIL,""),localStorage.setItem(USER_LANGUAGE,""),localStorage.setItem(USER_NAME,""),localStorage.setItem(USER_PIC,"")},methods:{goBack:function(){this.$router.push("/login")}}},ya=fa,wa=(a("14ec"),Object(ke["a"])(ya,pa,va,!1,null,"ca014da4",null)),ba=wa.exports,ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"poll"}},[a("router-view",{on:{"reload-poll":function(t){return e.reloadPoll()},"show-notification":function(t){return e.showNotification(t)}}}),e._m(0),a("div",{attrs:{id:"divlist"}},[a("ul",{attrs:{id:"list"}},[a("li",{attrs:{id:"title-li"}},[a("div",{staticClass:"column1 column"},[a("h5",[e._v("Title")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by title"},on:{click:function(t){return e.sortBy("title")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column2 column"},[a("h5",[e._v("Channel")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by channel"},on:{click:function(t){return e.sortBy("channel")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column3 column"},[a("h5",[e._v("Active")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by active"},on:{click:function(t){return e.sortBy("active")}}},[e._v("arrow_drop_down")])])]),e._m(1)]),e._l(e.pollData,function(t){return a("li",{key:t.pollId,staticClass:"li",on:{click:function(a){return e.viewPoll(t.pollId)}}},[a("div",{staticClass:"linear2"}),a("div",{staticClass:"linear1"}),a("div",{staticClass:"column1 column"},[a("p",[e._v(e._s(t.title))])]),a("div",{staticClass:"column2 column"},[a("p",[e._v(e._s(t.channel))])]),a("div",{staticClass:"column3 column"},[a("p",[e._v(e._s(e._f("shortDate")(t.activeUntil)))])]),a("div",{staticClass:"column4 column"},[a("i",{staticClass:"material-icons",attrs:{title:"Delete poll"},on:{click:function(a){return a.stopPropagation(),e.deletePoll(t.pollId)}}},[e._v("delete")])])])})],2)]),a("div",{attrs:{id:"footer"}},[a("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],attrs:{id:"footer-btn"},on:{click:e.toggleMenu}},[e._v(e._s(this.rowSize)+" Rows")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menu,expression:"menu"}],attrs:{id:"menu"}},e._l(e.rowSizesValue,function(t){return a("div",{key:t,staticClass:"menu-article",on:{click:function(a){return e.setRows(t)}}},[e._v(e._s(t))])}),0),a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:e.pagesSize,"total-visible":5},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]),a("button",{attrs:{id:"btn"},on:{click:e.showPollForm}},[e._v("+")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNoti,expression:"showNoti"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.showNotification}},[e._v("OK")])])],1)},Sa=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",[e._v("Poll")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column4 column"},[a("p",[a("i",{staticClass:"material-icons"},[e._v("filter_list")])])])}],Ia={name:"poll",data:function(){var e;return e={pollData:[],textNoti:"",showNoti:!1,rowSizesValue:[5,10,20],rowSize:20,page:1,pagesSize:1,menu:!1,sortByValue:"createdAt",sortType:"desc"},Object(Tt["a"])(e,"textNoti",""),Object(Tt["a"])(e,"errorOccured",!1),Object(Tt["a"])(e,"showNoti",!1),e},mounted:function(){"Light"==localStorage.getItem(v)?(this.$emit("change-light"),document.getElementById("poll").style.backgroundColor="white",document.getElementById("header").style.backgroundColor="white",document.getElementById("divlist").style.backgroundColor="white"):"Dark"==localStorage.getItem(v)&&(this.$emit("change-dark"),document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("poll").style.color="#f1f1f1",document.getElementById("footer").style.backgroundColor="#191919",document.getElementById("divlist").style.backgroundColor="#4c4c4c",document.getElementById("header").style.backgroundColor="#191919",document.getElementById("poll").style.backgroundColor="#191919",document.getElementById("title-li").style.backgroundColor="#323232",document.getElementById("title-li").style.color="#f1f1f1",document.getElementsByTagName("H5")[0].style.color="#f1f1f1",document.getElementsByTagName("H5")[1].style.color="#f1f1f1",document.getElementsByTagName("H5")[2].style.color="#f1f1f1"),"en"!=localStorage.getItem(f)&&(document.getElementsByTagName("H1")[0].innerHTML=localStorage.getItem(A),document.getElementsByTagName("H5")[0].innerHTML=localStorage.getItem(C),document.getElementsByTagName("H5")[1].innerHTML=localStorage.getItem($),document.getElementsByTagName("H5")[2].innerHTML=localStorage.getItem(D)),this.create()},methods:{showPollForm:function(){this.$router.push("/dashboard/poll/newPoll")},toggleMenu:function(){this.menu=!this.menu},hideMenu:function(){this.menu=!1},setRows:function(e){e!=this.rowSize&&(this.rowSize=e,this.reloadPoll()),this.menu=!this.menu},changePage:function(e){this.page=e,this.reloadPoll(e-1)},sortBy:function(e){"desc"==this.sortType?this.sortType="asc":this.sortType="desc",this.sortByValue=e,this.reloadPoll()},reloadPoll:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},a=this.page-1,e.prev=2,e.next=5,ye.a.get(l+"/api/polls?page="+a+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:t});case 5:r=e.sent,this.pollData=r.data.content,r.data.totalPages<this.page&&this.changePage(r.data.totalPages),this.pagesSize=r.data.totalPages,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.showNotification(-1);case 14:case"end":return e.stop()}},e,this,[[2,11]])}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,ye.a.get(l+"/api/polls?page=0&size="+this.rowSize+"&sort=createdAt",{headers:t});case 4:a=e.sent,this.pollData=a.data.content,0==a.data.totalPages?this.pagesSize=1:this.pagesSize=a.data.totalPages,this.rowSize=a.data.size,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.showNotification(-1);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));function t(){return e.apply(this,arguments)}return t}(),showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNoti=!this.showNoti,Object(xe["setTimeout"])(this.closeNoti,1500)},deletePoll:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(t){var a,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,ye.a.delete(l+"/api/polls/"+t);case 3:return r=this.page-1,e.prev=4,e.next=7,ye.a.get(l+"/api/polls?page="+r+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:a});case 7:n=e.sent,0==n.data.numberOfElements&&1!=this.page&&this.changePage(this.page-1),this.pollData=n.data.content,0==n.data.totalPages?this.pagesSize=1:this.pagesSize=n.data.totalPages,this.showNotification(200),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),this.showNotification(-1);case 17:case"end":return e.stop()}},e,this,[[4,14]])}));function t(t){return e.apply(this,arguments)}return t}(),closeNoti:function(){this.showNoti=!1},viewPoll:function(e){this.$router.push("/dashboard/poll/viewPoll/"+e)}},filters:{shortDate:function(e){var t=new Date(e),a=t.toDateString(),r=a.substring(4);return r}},directives:{ClickOutside:Ce.a}},_a=Ia,Ea=(a("46d3"),Object(ke["a"])(_a,ka,Sa,!1,null,"3a1eda88",null)),Ta=Ea.exports;ze()(Ea,{VPagination:$e["a"]});var Ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"FormPoll"}},[a("div",{attrs:{id:"form-style-10"}},[a("form",{attrs:{id:"forma"}},[a("div",{attrs:{id:"section"}},[a("p",[a("span",{attrs:{id:"createPoll"}},[e._v("Create Poll")]),a("label",{staticStyle:{"font-size":"20px"},attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("X")])])]),a("label",{staticClass:"la"},[e._v("Title")]),a("div",{attrs:{id:"inner-wrap"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],class:{errorBorder:e.showTitleError,noErrorBorder:!e.showTitleError},attrs:{autocomplete:"off",type:"text",name:"field1",placeholder:"New poll title",id:"field1"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showTitleError,expression:"showTitleError"}]},[e._v("Title size is minimum 3 characters")]),a("br"),a("br"),a("div",{attrs:{id:"choicesList"}},[a("label",{attrs:{id:"choices"}},[e._v("Choices:")]),e._l(e.choices,function(t,r){return a("input",{directives:[{name:"model",rawName:"v-model",value:t.choiceValue,expression:"choice.choiceValue"}],key:r,staticClass:"choices",class:{noErrorBorder:!0},attrs:{type:"text",placeholder:r+1+"."},domProps:{value:t.choiceValue},on:{input:function(a){a.target.composing||e.$set(t,"choiceValue",a.target.value)}}})})],2),a("input",{class:{disabledButton:5==e.choices.length},attrs:{type:"button",value:"+",disabled:5==e.choices.length,id:"choiceButton"},on:{click:e.addNewChoice}}),a("input",{class:{disabledButton:2==e.choices.length},attrs:{type:"button",value:"-",disabled:2==e.choices.length,id:"choiceButton"},on:{click:e.removeChoice}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showChoiceError,expression:"showChoiceError"}]},[e._v("Choice can not be empty")]),a("br"),a("span",{directives:[{name:"show",rawName:"v-show",value:5==e.choices.length,expression:"choices.length==5"}],staticStyle:{color:"#888"}},[e._v("Maximum number of choices have been reached")]),a("br"),a("label",{staticClass:"la",attrs:{id:"channelname"}},[e._v("Channel name")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.channelName,expression:"channelName"}],class:{errorBorder:e.showChannelError,noErrorBorder:!e.showChannelError},attrs:{id:"field3"},on:{click:e.getChannelID,change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.channelName=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.channelName))]),e._l(e.channelsData,function(t){return a("option",{key:t.channelName},[e._v(e._s(t.channelName))])})],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showChannelError,expression:"showChannelError"}]},[e._v("Channel name is required")]),a("br"),a("label",{staticClass:"la2"},[e._v("End date")]),a("br"),a("div",{staticClass:"input-append date form_datetime"},[a("div",[a("date-picker",{staticStyle:{"margin-top":"8px"},attrs:{lang:e.lang},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)]),a("br"),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showDateError,expression:"showDateError"}]},[e._v("Date is required and must not be less then today date")]),a("br"),a("br"),a("br"),a("input",{staticClass:"input-options",attrs:{type:"button",value:"Save",id:"submit"},on:{click:e.save}}),a("input",{staticClass:"input-options",attrs:{type:"button",value:"Cancel",id:"cancle"},on:{click:e.exit}})])])])])},Ca=[],xa={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},Na={name:"FormPoll",components:{DatePicker:it.a},data:function(){return{title:"",choices:[],liveValidation:!1,showTitleError:!1,showChoiceError:!1,date:null,showDateError:!1,active:!0,channelsData:[],channelName:localStorage.getItem(te),channelId:"",targetChannel:"",showChannelError:!1,time1:"",time2:"",time3:"",lang:{days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pickers:["next 7 days","next 30 days","previous 7 days","previous 30 days"],placeholder:{date:localStorage.getItem(ee),dateRange:"Select Date Range"}}}},mounted:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return"Light"==localStorage.getItem(v)?(document.getElementById("createPoll").style.color="black",document.getElementById("form-style-10").style.backgroundColor="white"):"Dark"==localStorage.getItem(v)&&(document.getElementById("cancle").style.backgroundColor="#191919",document.getElementById("cancle").style.color="white",document.getElementsByClassName("mx-input")[0].style.backgroundColor="#191919",document.getElementById("channelname").style.backgroundColor="#191919",document.getElementsByClassName("la2")[0].style.backgroundColor="#191919",document.getElementById("createPoll").style.color="white",document.getElementById("form-style-10").style.backgroundColor="#191919",document.getElementById("inner-wrap").style.backgroundColor="#191919",document.getElementsByTagName("label")[0].style.backgroundColor="#191919",document.getElementsByTagName("label")[1].style.backgroundColor="#191919",document.getElementsByTagName("label")[2].style.backgroundColor="#191919",document.getElementById("FormPoll").color="black"),"en"!=localStorage.getItem(f)&&(document.getElementById("createPoll").innerHTML=localStorage.getItem(se),document.getElementsByClassName("la")[0].innerHTML=localStorage.getItem(C),document.getElementsByClassName("la2")[0].innerHTML=localStorage.getItem(he),document.getElementById("channelname").innerHTML=localStorage.getItem(te),document.getElementById("cancle").value=localStorage.getItem(ae),document.getElementById("submit").value=localStorage.getItem(I),document.getElementById("field1").placeholder=localStorage.getItem(le),document.getElementById("choices").innerHTML=localStorage.getItem(ce)),this.choices.push({choiceValue:""}),this.choices.push({choiceValue:""}),document.getElementsByClassName("mx-input-append")[0].style.padding="0px",e.prev=5,e.next=8,ye.a.get(l+"/api/channels");case 8:t=e.sent,this.channelsData=t.data,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),this.$emit("show-notification",-1);case 15:case"end":return e.stop()}},e,this,[[5,12]])}));function t(){return e.apply(this,arguments)}return t}(),watch:{date:function(e){1==this.liveValidation&&this.check_date(e)},choices:{handler:function(){1==this.liveValidation&&this.check_choices(this.choices)},deep:!0},title:function(e){1==this.liveValidation&&this.check_title(e)},channelName:function(e){this.channelName=e,1==this.liveValidation&&this.check_channelName(e)}},methods:{exit:function(){this.$router.go(-1)},addNewChoice:function(){this.choices.push({choiceValue:""})},removeChoice:function(){this.choices.pop()},check_title:function(e){return this.title.length<3?(this.showTitleError=!0,!1):(this.showTitleError=!1,!0)},check_choices:function(e){for(var t=!1,a=0;a<this.choices.length;a++)""==this.choices[a].choiceValue?(document.getElementsByClassName("choices")[a].style.borderColor="red",this.showChoiceError=!0,t=!0):document.getElementsByClassName("choices")[a].style.borderColor="rgba(0, 0, 0, 0.2)";return 1!=t&&(this.showChoiceError=!1,!0)},check_date:function(e){var t=new Date;if(null==this.date||t>=this.date){var a=document.getElementsByClassName("mx-input")[0];return a.style.borderColor="rgb(253, 38, 38)",this.showDateError=!0,!1}a=document.getElementsByClassName("mx-input")[0];return a.style.borderColor="rgba(0, 0, 0, 0.2)",this.showDateError=!1,!0},check_channelName:function(e){return"Some channel name"==this.channelName?(this.showChannelError=!0,!1):(this.showChannelError=!1,!0)},save:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.liveValidation=!0,0==this.check_title(this.title)&&(this.invalid=!0),0==this.check_date(this.date)&&(this.invalid=!0),0==this.check_choices(this.choices)&&(this.invalid=!0),0!=this.check_channelName(this.channelName)){e.next=8;break}if(1!=this.invalid){e.next=8;break}return this.invalid=!1,e.abrupt("return");case 8:return e.prev=8,e.next=11,ye.a.post(l+"/api/polls",{active:this.active,channelId:this.channelId,activeUntil:this.date,choiceList:this.choices,title:this.title},{headers:xa});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](8),this.$emit("show-notification",-1),this.$router.go(-1);case 17:this.$emit("show-notification"),this.$emit("reload-poll"),this.$router.go(-1);case 20:case"end":return e.stop()}},e,this,[[8,13]])}));function t(){return e.apply(this,arguments)}return t}(),getChannelID:function(){var e=this;this.channelsData.length>1?(this.targetChannel=this.channelsData.filter(function(t){return t.channelName==e.channelName}),this.channelId=this.targetChannel[0].id):this.channelId=this.channelsData[0].id}}},Ma=Na,Oa=(a("bbac"),Object(ke["a"])(Ma,Ba,Ca,!1,null,"2b663636",null)),za=Oa.exports,$a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Activity"}},[e._m(0),a("div",{attrs:{id:"divlist"}},[a("ul",{attrs:{id:"list"}},[a("li",{attrs:{id:"title-li"}},[a("div",{staticClass:"column1 column"},[a("h5",[e._v("ID")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by id"},on:{click:function(t){return e.sortByValue("auditId")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column2 column"},[a("h5",[e._v("Action")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by action"},on:{click:function(t){return e.sortByValue("cause")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column3 column"},[a("h5",[e._v("Result")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by result"},on:{click:function(t){return e.sortByValue("consequence")}}},[e._v("arrow_drop_down")])])])]),e._l(e.auditData,function(t){return a("li",{key:t.id,class:{notSeen:t.seen}},[a("div",{staticClass:"linear2"}),a("div",{staticClass:"linear1"}),a("div",{staticClass:"column1 column"},[a("p",[e._v(e._s(t.auditId))])]),a("div",{staticClass:"column2 column"},[a("p",[e._v(e._s(t.cause))])]),a("div",{staticClass:"column3 column"},[a("p",[e._v(e._s(t.consequence))])])])})],2)]),a("div",{attrs:{id:"footer"}},[a("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],attrs:{id:"footer-btn"},on:{click:e.toggleMenu}},[e._v(e._s(this.rowSize)+" Rows")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menu,expression:"menu"}],attrs:{id:"menu"}},e._l(e.rowSizesValue,function(t){return a("div",{key:t,staticClass:"menu-article",on:{click:function(a){return e.setRows(t)}}},[e._v(e._s(t))])}),0),a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:e.pagesSize,"total-visible":5},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNotificationValue,expression:"showNotificationValue"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.showNotification}},[e._v("OK")])])])},Ha=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",[e._v("Activity")])])}],Da=(localStorage.getItem(d),{name:"Activity",data:function(){var e;return e={auditData:[],textNoti:"",rowSizesValue:[5,10,20],rowSize:20,page:1,pagesSize:1,menu:!1,sortByValue:"createdAt",sortType:"desc"},Object(Tt["a"])(e,"textNoti",""),Object(Tt["a"])(e,"errorOccured",!1),Object(Tt["a"])(e,"showNotificationValue",!1),e},mounted:function(){"Light"==localStorage.getItem(v)?(this.$emit("change-light"),document.getElementById("header").style.backgroundColor="white",document.getElementById("divlist").style.backgroundColor="white"):"Dark"==localStorage.getItem(v)&&(this.$emit("change-dark"),document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("Activity").style.color="#f1f1f1",document.getElementById("footer").style.backgroundColor="#191919",document.getElementById("divlist").style.backgroundColor="#4c4c4c",document.getElementById("header").style.backgroundColor="#191919",document.getElementById("Activity").style.backgroundColor="#191919",document.getElementById("title-li").style.backgroundColor="#323232",document.getElementById("title-li").style.color="#f1f1f1",document.getElementsByTagName("H5")[0].style.color="#f1f1f1",document.getElementsByTagName("H5")[1].style.color="#f1f1f1",document.getElementsByTagName("H5")[2].style.color="#f1f1f1"),"en"!=localStorage.getItem(f)&&(document.getElementsByTagName("H1")[0].innerHTML=localStorage.getItem(V),document.getElementsByTagName("H5")[1].innerHTML=localStorage.getItem(j),document.getElementsByTagName("H5")[2].innerHTML=localStorage.getItem(U)),this.create()},methods:{toggleMenu:function(){this.menu=!this.menu},hideMenu:function(){this.menu=!1},setRows:function(e){e!=this.rowSize&&(this.rowSize=e,this.reloadActivity()),this.menu=!this.menu},changePage:function(e){this.page=e,this.reloadActivity(e-1)},reloadActivity:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},a=this.page-1,e.prev=2,e.next=5,ye.a.get(l+"/api/logs?page="+a+"&size="+this.rowSize,{headers:t});case 5:r=e.sent,r.data.totalPages<this.page&&this.changePage(r.data.totalPages),this.auditData=r.data.content,this.pagesSize=r.data.totalPages,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.showNotification(-1);case 14:case"end":return e.stop()}},e,this,[[2,11]])}));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,ye.a.get(l+"/api/logs?page=0&size="+this.rowSize+"&sort=createdAt,asc",{headers:t});case 4:a=e.sent,this.auditData=a.data.content,0==a.data.totalPages?this.pagesSize=1:this.pagesSize=a.data.totalPages,this.rowSize=a.data.size,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.showNotification(-1);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));function t(){return e.apply(this,arguments)}return t}(),closeNotification:function(){this.showNotificationValue=!1},showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNotificationValue=!this.showNotificationValue,setTimeout(this.closeNotification,1500)},sortBy:function(e){"desc"==this.sortType?this.sortType="asc":this.sortType="desc",this.sortByValue=e,this.reloadActivity()}},directives:{ClickOutside:Ce.a}}),Pa=Da,Ra=(a("a0c9"),Object(ke["a"])(Pa,$a,Ha,!1,null,"272c2b44",null)),La=Ra.exports;ze()(Ra,{VPagination:$e["a"]});var Va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"pollView"}},[a("div",{attrs:{id:"form-style-10"}},[a("form",{attrs:{id:"forma"}},[a("div",{attrs:{id:"section"}},[a("p",{attrs:{id:"pollViewTitle"}},[e._v("\n          Poll\n          "),a("label",{staticStyle:{"font-size":"20px"},attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("X")])])]),a("div",{attrs:{id:"inner-wrap"}},[a("label",{staticClass:"la"},[e._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],attrs:{type:"text",name:"field1",id:"field1",placeholder:"New poll title",disabled:""},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),a("label",{attrs:{id:"option"}},[e._v("Option")]),a("label",{staticStyle:{float:"right"},attrs:{id:"votenumber"}},[e._v("Vote number")]),a("ul",e._l(e.choiceList,function(t){return a("li",{key:t.choiceId},[a("h5",{staticStyle:{width:"70%"}},[e._v(e._s(t.choiceValue))]),a("h5",[e._v(e._s(t.counter))])])}),0),a("input",{staticClass:"input-options",attrs:{type:"button",value:"Cancel",id:"cancle"},on:{click:e.exit}})])])])])},Aa=[],ja=(localStorage.getItem(d),{name:"pollView",data:function(){return{title:"",choiceList:[]}},mounted:function(){"en"!=localStorage.getItem(f)&&(document.getElementById("pollViewTitle").innerHTML=localStorage.getItem(A),document.getElementById("field1").placeholder=localStorage.getItem(le),document.getElementById("option").innerHTML=localStorage.getItem(pe),document.getElementById("votenumber").innerHTML=localStorage.getItem(ve),document.getElementById("cancle").value=localStorage.getItem(ae)),"Dark"==localStorage.getItem(v)&&(document.getElementById("pollViewTitle").style.color="white",document.getElementById("form-style-10").style.backgroundColor="#191919",document.getElementById("inner-wrap").style.backgroundColor="#191919"),this.create()},methods:{exit:function(){this.$router.go(-1)},create:function(){var e=Object(Te["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye.a.get(l+"/api/polls/"+this.$route.params.id);case 3:t=e.sent,this.title=t.data.title,this.choiceList=t.data.choiceList,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$emit("show-notification",-1);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}()}}),Ua=ja,Fa=(a("9ad0"),Object(ke["a"])(Ua,Va,Aa,!1,null,"1627d28a",null)),qa=Fa.exports;r["a"].config.productionTip=!1;var Ja=new o["a"]({routes:[{path:"/",component:Dt,redirect:"/login"},{path:"/login",component:Dt},{path:"/oauth2/redirect",component:ha},{path:"/error",component:ba},{path:"/dashboard",component:Xt,children:[{path:"poll",component:Ta,children:[{path:"newPoll",component:za},{path:"viewPoll/:id",component:qa}]},{path:"messages",component:De,children:[{path:"newMessage",component:at},{path:"newMessage/:id",component:at},{path:"newTrigger/:id",component:ft},{path:"newSchedule/:id",component:dt},{path:"updateMessage/:id",component:at}]},{path:"schedules",component:je,children:[{path:"newSchedule",component:dt},{path:"updateSchedule/:id",component:dt}]},{path:"triggers",component:Ge,children:[{path:"newTrigger",component:ft},{path:"updateTrigger/:id",component:ft}]},{path:"user",component:Nt,children:[{path:"newUser",component:It}]},{path:"activity",component:La},{path:"/settings",component:la},{path:"/profile",component:aa}]}],mode:"history"});r["a"].use(o["a"]),new r["a"]({router:Ja,render:function(e){return e(Ie)}}).$mount("#app")},5932:function(e,t,a){"use strict";var r=a("14ba"),n=a.n(r);n.a},5983:function(e,t,a){},"5b72":function(e,t,a){},"64d8":function(e,t,a){"use strict";var r=a("94e1"),n=a.n(r);n.a},"66e8":function(e,t,a){},"6c70":function(e,t,a){},"71a0":function(e,t,a){"use strict";var r=a("5b72"),n=a.n(r);n.a},"79c2":function(e,t,a){},8228:function(e,t,a){"use strict";var r=a("5983"),n=a.n(r);n.a},"84c8":function(e,t,a){"use strict";var r=a("4a0a"),n=a.n(r);n.a},9028:function(e,t,a){"use strict";var r=a("ecae"),n=a.n(r);n.a},"94e1":function(e,t,a){},"985f":function(e,t,a){},"9ad0":function(e,t,a){"use strict";var r=a("2ba4"),n=a.n(r);n.a},"9c8e":function(e,t,a){},a0c9:function(e,t,a){"use strict";var r=a("6c70"),n=a.n(r);n.a},bbac:function(e,t,a){"use strict";var r=a("2944"),n=a.n(r);n.a},c0d3:function(e,t,a){"use strict";var r=a("ea23"),n=a.n(r);n.a},c3d5:function(e,t,a){},d2e4:function(e,t,a){"use strict";var r=a("985f"),n=a.n(r);n.a},e6f5:function(e,t,a){"use strict";var r=a("66e8"),n=a.n(r);n.a},ea23:function(e,t,a){},ecae:function(e,t,a){}});
//# sourceMappingURL=app.fd4aa59b.js.map