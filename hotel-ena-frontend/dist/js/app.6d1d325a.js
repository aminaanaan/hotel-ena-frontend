(function(e){function t(t){for(var r,s,o=t[0],c=t[1],l=t[2],d=0,h=[];d<o.length;d++)s=o[d],i[s]&&h.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(h.length)h.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(r=!1)}r&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},i={app:0},n=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("1356"),i=a.n(r);i.a},1356:function(e,t,a){},"165e":function(e,t,a){},"16f4":function(e,t,a){e.exports=a.p+"img/404.aa46824c.png"},"18d3":function(e,t,a){},"1cc2":function(e,t,a){"use strict";var r=a("79c2"),i=a.n(r);i.a},"24cf":function(e,t,a){"use strict";var r=a("9f93"),i=a.n(r);i.a},2801:function(e,t,a){"use strict";var r=a("e008"),i=a.n(r);i.a},2944:function(e,t,a){},"2a57":function(e,t,a){"use strict";var r=a("41ae"),i=a.n(r);i.a},"2aec":function(e,t,a){"use strict";var r=a("e53b"),i=a.n(r);i.a},"3eac":function(e,t,a){},4036:function(e,t,a){"use strict";var r=a("18d3"),i=a.n(r);i.a},"41ae":function(e,t,a){},"42e3":function(e,t,a){"use strict";var r=a("dd85"),i=a.n(r);i.a},4824:function(e,t,a){"use strict";var r=a("165e"),i=a.n(r);i.a},"509a":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("2b0e"),i=a("bb71");a("da64");r["a"].use(i["a"],{iconfont:"md"});var n=a("8c4f"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],c="http://localhost:8080",l="http://localhost:3000/oauth2/redirect",u=c+"/oauth2/authorize/google?redirect_uri="+l,d="accessToken",h="currentUserRole",m="user-email",g="user-name",p="user-id",v="user-theme",f="user_language",w=a("bc3a"),y=a.n(w),b={name:"app",components:{},data:function(){return{rowSizesValue:[5,10,20]}},mounted:function(){localStorage.getItem(d)}},_=b,k=(a("034f"),a("2877")),x=Object(k["a"])(_,s,o,!1,null,null,null),S=x.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"messages"}},[a("router-view",{on:{"reload-messages":function(t){return e.reloadMessages()},"show-notification":function(t){return e.showNotification(t)}}}),e._m(0),a("div",{attrs:{id:"divlist"}},[a("ul",{attrs:{id:"list"}},[a("li",{attrs:{id:"title-li"}},[a("div",{staticClass:"column1 column"},[a("h5",[e._v("Cost")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by title"},on:{click:function(t){return e.sortBy("title")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column2 column"},[a("h5",[e._v("Text")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by text"},on:{click:function(t){return e.sortBy("text")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column3 column"},[a("h5",[e._v("Created At")]),a("p",[a("i",{staticClass:"tooltip, material-icons",attrs:{title:"Sort by date"},on:{click:function(t){return e.sortBy("createdAt")}}},[e._v("arrow_drop_down")])])]),e._m(1)]),e._l(e.messagesData,(function(t){return a("li",{key:t.id},[a("div",{staticClass:"linear2"}),a("div",{staticClass:"linear1"}),a("div",{staticClass:"column1 column"},[a("p",[e._v(e._s(t.validFrom))])]),a("div",{staticClass:"column2 column"},[a("p",{staticClass:"lip"},[e._v(e._s(t.id))])]),a("div",{staticClass:"column3 column"},[a("p",{staticClass:"lip"},[e._v(e._s(t.validTo))])]),a("div",{staticClass:"column4 column"},[a("i",{staticClass:"material-icons tooltip",attrs:{title:"Create schedule"},on:{click:function(a){return e.showScheduleForm(t.messageId)}}},[e._v("assignment_turned_in")]),a("i",{staticClass:"material-icons",attrs:{title:"Create trigger"},on:{click:function(a){return e.showTriggerForm(t.messageId)}}},[e._v("assistant")]),a("i",{staticClass:"material-icons",attrs:{title:"Edit message"},on:{click:function(a){return e.editMessage(t.messageId)}}},[e._v("create")]),a("i",{staticClass:"material-icons",attrs:{title:"Delete message"},on:{click:function(a){return e.deleteMessage(t.messageId)}}},[e._v("delete")])])])}))],2)]),a("div",{attrs:{id:"footer"}},[a("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],attrs:{id:"footer-btn"},on:{click:e.toggleMenu}},[e._v(e._s(this.rowSize)+" Rows")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menu,expression:"menu"}],attrs:{id:"menu"}},e._l(e.rowSizesValue,(function(t){return a("div",{key:t,staticClass:"menu-article",on:{click:function(a){return e.setRows(t)}}},[e._v(e._s(t))])})),0),a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:e.pagesSize,"total-visible":5},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]),a("button",{attrs:{id:"btn"},on:{click:e.showMessageForm}},[e._v("+")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNotificationValue,expression:"showNotificationValue"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.showNotification}},[e._v("OK")])])],1)},T=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",[e._v("Rezervacije")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column4 column"},[a("p",[a("i",{staticClass:"material-icons"},[e._v("filter_list")])])])}],N=(a("7f7f"),a("96cf"),a("3b8d")),I=a("e67d"),E=a.n(I),B=a("5118"),O={name:"messages",data:function(){return{messagesData:[],rowSize:20,pagesSize:1,page:1,menu:!1,rowSizesValue:[5,10,20],sortType:"desc",dateSort:!0,sortByValue:"createdAt",textNoti:"",errorOccured:!1,showNotificationValue:!1}},mounted:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,y.a.get(c+"/korisnik/me",{headers:t}).then((function(e){localStorage.setItem(m,e.data.email),localStorage.setItem(g,e.data.name),localStorage.setItem(h,e.data.role),localStorage.setItem(p,e.data.id)})).catch((function(e){console.log(e)}));case 3:this.create();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),filters:{shortDate:function(e){var t=new Date(e),a=t.toDateString(),r=a.substring(4);return r}},methods:{reloadMessages:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},this.page-1,e.prev=2,e.next=5,y.a.get(c+"/korisnik/reservation/employee/"+localStorage.getItem(p),{headers:t});case 5:a=e.sent,a.data.totalPages<this.page&&this.changePage(a.data.totalPages),this.messagesData=a.data,this.pagesSize=a.data.totalPages,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.showNotification(-1);case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(){return e.apply(this,arguments)}return t}(),showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNoti=!this.showNotificationValue,Object(B["setTimeout"])(this.closeNotification,1500)},closeNotification:function(){this.showNotificationValue=!1},showMessageForm:function(){this.$router.push("/dashboard/rezervacije/newReservation")},showTriggerForm:function(e){this.$router.push("/dashboard/messages/newTrigger/"+e)},showScheduleForm:function(e){this.$router.push("/dashboard/messages/newSchedule/"+e)},editMessage:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/dashboard/messages/updateMessage/"+t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteMessage:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,y.a.delete(c+"/api/messages/"+t);case 3:return r=this.page-1,e.prev=4,e.next=7,y.a.get(c+"/api/messages?page="+r+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:a});case 7:i=e.sent,0==i.data.numberOfElements&&1!=this.page&&this.changePage(this.page-1),this.messagesData=i.data.content,0==i.data.totalPages?this.pagesSize=1:this.pagesSize=i.data.totalPages,this.showNotification(200),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),this.showNotification(-1);case 17:case"end":return e.stop()}}),e,this,[[4,14]])})));function t(t){return e.apply(this,arguments)}return t}(),toggleMenu:function(){this.menu=!this.menu},hideMenu:function(){this.menu=!1},setRows:function(e){e!=this.rowSize&&(this.rowSize=e,this.reloadMessages()),this.menu=!this.menu},changePage:function(e){this.page=e,this.reloadMessages(e-1)},create:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,y.a.get(c+"/korisnik/"+localStorage.getItem(p)+"/employee/bill",{headers:t});case 4:a=e.sent,a.data.totalPages<this.page&&this.changePage(a.data.totalPages),this.messagesData=a.data,this.pagesSize=a.data.totalPages,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.showNotification(-1);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}(),sortBy:function(e){"desc"==this.sortType?this.sortType="asc":this.sortType="desc",this.sortByValue=e,this.reloadMessages()}},directives:{ClickOutside:E.a}},z=O,$=(a("2801"),a("6544")),R=a.n($),D=a("891e"),P=Object(k["a"])(z,C,T,!1,null,null,null),M=P.exports;R()(P,{VPagination:D["a"]});var V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tabcontent",attrs:{id:"Schedules"}},[a("router-view",{on:{"reload-schedules":function(t){return e.reloadSchedules()},"show-notification":function(t){return e.showNotification(t)}}}),e._m(0),a("div",{attrs:{id:"divlist"}},[a("ul",{attrs:{id:"list"}},[a("li",{attrs:{id:"title-li"}},[a("div",{staticClass:"column1 column"},[a("h5",[e._v("Message")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by message title"},on:{click:function(t){return e.sortBy("message.title")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column2 column"},[a("h5",[e._v("Next Run")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by next run"},on:{click:function(t){return e.sortBy("runAt")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column3 column"},[a("h5",[e._v("Active At")]),a("p",[a("i",{staticClass:"tooltip, material-icons",attrs:{title:"Sort by acive"},on:{click:function(t){return e.sortBy("active")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column6 column"},[a("h5",[e._v("Repeat")]),a("p",[a("i",{staticClass:"tooltip, material-icons",attrs:{title:"Sort by repeat"},on:{click:function(t){return e.sortBy("repeat")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column5 column"},[a("h5",[e._v("Channel")]),a("p",[a("i",{staticClass:"tooltip, material-icons",attrs:{title:"Sort by channel"},on:{click:function(t){return e.sortBy("channel")}}},[e._v("arrow_drop_down")])])]),e._m(1)]),e._l(e.schedulesData,(function(t){return a("li",{key:t.scheduleId},[a("div",{staticClass:"linear1"}),a("div",{staticClass:"linear2"}),a("div",{staticClass:"column1 column"},[a("p",[e._v(e._s(t.id))])]),a("div",{staticClass:"column2 column"},[a("p",[e._v(e._s(t.userId))])]),a("div",{staticClass:"column3 column"},[a("p",[e._v(e._s(t.createdBy))])]),a("div",{staticClass:"column6 column"},[a("p",[e._v(e._s(e._f("repeatView")(t.repeat)))])]),a("div",{staticClass:"column5 column"},[a("p",[e._v(e._s(t.channel))])]),a("div",{staticClass:"column4 column"},[a("i",{staticClass:"material-icons",attrs:{title:"Edit schedule"},on:{click:function(a){return e.editSchedule(t.scheduleId)}}},[e._v("create")]),a("i",{staticClass:"material-icons",attrs:{title:"Delete schedule"},on:{click:function(a){return e.deleteSchedule(t.scheduleId)}}},[e._v("delete")])])])}))],2)]),a("div",{attrs:{id:"footer"}},[a("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],attrs:{id:"footer-btn"},on:{click:e.toggleMenu}},[e._v(e._s(this.rowSize)+" Rows")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menu,expression:"menu"}],attrs:{id:"menu"}},e._l(e.rowSizesValue,(function(t){return a("div",{key:t,staticClass:"menu-article",on:{click:function(a){return e.setRows(t)}}},[e._v(e._s(t))])})),0),a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:e.pagesSize,"total-visible":5},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]),a("button",{attrs:{id:"btn"},on:{click:e.showScheduleForm}},[e._v("+")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNotificationValue,expression:"showNotificationValue"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.showNotification}},[e._v("OK")])])],1)},j=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",[e._v("Racuni")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column4 column"},[a("p",[a("i",{staticClass:"material-icons"},[e._v("filter_list")])])])}],A=(a("6b54"),localStorage.getItem(d),{name:"schedules",data:function(){return{schedulesData:[],rowSize:20,pagesSize:1,page:1,menu:!1,rowSizesValue:[5,10,20],sortType:"desc",textNoti:"",errorOccured:!1,showNotificationValue:!1,sortByValue:"createdAt"}},mounted:function(){this.create()},filters:{shortDate:function(e){var t=new Date(e),a=t.toString(),r=a.substring(4,21);return r},activeView:function(e){return 1==e?"Active":"Not active"},repeatView:function(e){return 1==e?"Repeat":"Not repeat"}},methods:{reloadSchedules:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},this.page-1,e.prev=2,e.next=5,y.a.get("http://localhost:8080/korisnik/racun/all",{headers:t});case 5:a=e.sent,this.schedulesData=a.data,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),this.showNotification(-1);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}(),showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNotificationValue=!this.showNotificationValue,setTimeout(this.closeNotification,1500)},closeNotification:function(){this.showNotificationValue=!1},showScheduleForm:function(){this.$router.push("/dashboard/racuni/newBill")},editSchedule:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/dashboard/schedules/updateSchedule/"+t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteSchedule:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,y.a.delete(c+"/api/schedules/"+t);case 3:return r=this.page-1,e.prev=4,e.next=7,y.a.get(c+"/api/schedules?page="+r+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:a});case 7:i=e.sent,0==i.data.numberOfElements&&1!=this.page&&this.changePage(this.page-1),this.schedulesData=i.data.content,0==i.data.totalPages?this.pagesSize=1:this.pagesSize=i.data.totalPages,this.showNotification(),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),this.showNotification(-1);case 17:case"end":return e.stop()}}),e,this,[[4,14]])})));function t(t){return e.apply(this,arguments)}return t}(),toggleMenu:function(){this.menu=!this.menu},hideMenu:function(){this.menu=!1},setRows:function(e){e!=this.rowSize&&(this.rowSize=e,this.reloadSchedules()),this.menu=!this.menu},changePage:function(e){this.page=e,this.reloadSchedules(e-1)},create:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,y.a.get("http://localhost:8080/korisnik/racun/all",{headers:t});case 4:a=e.sent,this.schedulesData=a.data,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.showNotification(-1);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}(),sortBy:function(e){"desc"==this.sortType?this.sortType="asc":this.sortType="desc",this.sortByValue=e,this.reloadSchedules()}},directives:{ClickOutside:E.a}}),H=A,U=(a("978c"),Object(k["a"])(H,V,j,!1,null,"4e869038",null)),L=U.exports;R()(U,{VPagination:D["a"]});var F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tabcontent",attrs:{id:"Triggers"}},[e._m(0),a("router-view",{on:{"reload-triggers":function(t){return e.reloadTriggers()},"show-notification":function(t){return e.showNotification(t)}}}),a("div",{attrs:{id:"divlist"}},[a("ul",{attrs:{id:"list"}},[a("li",{attrs:{id:"title-li"}},[a("div",{staticClass:"column1 column"},[a("h5",[e._v("Message")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by message title"},on:{click:function(t){return e.sortBy("message.title")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column2 column"},[a("h5",[e._v("Trigger")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by date"},on:{click:function(t){return e.sortBy("createdAt")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column3 column"},[a("h5",[e._v("Channel")]),a("p",[a("i",{staticClass:"tooltip material-icons",attrs:{title:"Sort by channel"},on:{click:function(t){return e.sortBy("channel")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column5 column"},[a("h5",[e._v("Active")]),a("p",[a("i",{staticClass:"tooltip material-icons",attrs:{title:"Sort by active"},on:{click:function(t){return e.sortBy("active")}}},[e._v("arrow_drop_down")])])]),e._m(1)]),e._l(e.triggersData,(function(t){return a("li",{key:t.triggerId},[a("div",{staticClass:"linear1"}),a("div",{staticClass:"linear2"}),a("div",{staticClass:"column1 column"},[a("p",[e._v(e._s(t.message.title))])]),a("div",{staticClass:"column2 column"},[a("p",[e._v(e._s(e._f("shortDate")(t.createdAt)))])]),a("div",{staticClass:"column3 column"},[a("p",[e._v(e._s(t.channel))])]),a("div",{staticClass:"column5 column"},[a("p",[e._v(e._s(e._f("activeView")(t.active)))])]),a("div",{staticClass:"column4 column"},[a("i",{staticClass:"material-icons",attrs:{title:"Edit tigger"},on:{click:function(a){return e.editTrigger(t.triggerId)}}},[e._v("create")]),a("i",{staticClass:"material-icons",attrs:{title:"Delete trigger"},on:{click:function(a){return e.deleteTrigger(t.triggerId)}}},[e._v("delete")])])])}))],2)]),a("div",{attrs:{id:"footer"}},[a("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],attrs:{id:"footer-btn"},on:{click:e.toggleMenu}},[e._v(e._s(this.rowSize)+" Rows")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menu,expression:"menu"}],attrs:{id:"menu"}},e._l(e.rowSizesValue,(function(t){return a("div",{key:t,staticClass:"menu-article",on:{click:function(a){return e.setRows(t)}}},[e._v(e._s(t))])})),0),a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:e.pagesSize,"total-visible":5},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]),a("button",{attrs:{id:"btn"},on:{click:e.showTriggerForm}},[e._v("+")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNotificationValue,expression:"showNotificationValue"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.showNotification}},[e._v("OK")])])],1)},q=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",[e._v("Triggers")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column4 column"},[a("p",[a("i",{staticClass:"material-icons"},[e._v("filter_list")])])])}],J={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},K={name:"Triggers",data:function(){return{triggersData:[],rowSize:20,pagesSize:1,page:1,menu:!1,rowSizesValue:[5,10,20],sortType:"desc",sortByValue:"createdAt",textNoti:"",errorOccured:!1,showNotificationValue:!1}},filters:{shortDate:function(e){var t=new Date(e),a=t.toDateString(),r=a.substring(4);return r},activeView:function(e){return 1==e?"Active":"Not active"}},mounted:function(){"Light"==localStorage.getItem(v)?(this.$emit("change-light"),document.getElementById("header").style.backgroundColor="white",document.getElementById("Triggers").style.backgroundColor="white"):"Dark"==localStorage.getItem(v)&&(this.$emit("change-dark"),document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("Triggers").style.color="#f1f1f1",document.getElementById("footer").style.backgroundColor="#191919",document.getElementById("divlist").style.backgroundColor="#4c4c4c",document.getElementById("header").style.backgroundColor="#191919",document.getElementById("Triggers").style.backgroundColor="#191919",document.getElementById("title-li").style.backgroundColor="#323232",document.getElementById("title-li").style.color="#f1f1f1",document.getElementsByTagName("H5")[0].style.color="#f1f1f1",document.getElementsByTagName("H5")[1].style.color="#f1f1f1",document.getElementsByTagName("H5")[2].style.color="#f1f1f1",document.getElementsByTagName("H5")[3].style.color="#f1f1f1"),"en"!=localStorage.getItem(f)&&(document.getElementsByTagName("H1")[0].innerHTML=localStorage.getItem(void 0),document.getElementsByTagName("H5")[0].innerHTML=localStorage.getItem(void 0),document.getElementsByTagName("H5")[1].innerHTML=localStorage.getItem(void 0),document.getElementsByTagName("H5")[2].innerHTML=localStorage.getItem(void 0),document.getElementsByTagName("H5")[3].innerHTML=localStorage.getItem(void 0)),this.create()},methods:{showTriggerForm:function(){this.$router.push("/dashboard/triggers/newTrigger")},reloadTriggers:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},a=this.page-1,e.prev=2,e.next=5,y.a.get(c+"/api/triggers?page="+a+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:t});case 5:r=e.sent,r.data.totalPages<this.page&&this.changePage(r.data.totalPages),this.triggersData=r.data.content,this.pagesSize=r.data.totalPages,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.showNotification(-1);case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(){return e.apply(this,arguments)}return t}(),showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNotificationValue=!this.showNotificationValue,setTimeout(this.closeNotification,1500)},closeNotification:function(){this.showNotificationValue=!1},editTrigger:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/dashboard/triggers/updateTrigger/"+t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteTrigger:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete(c+"/api/triggers/"+t);case 2:return a=this.page-1,e.prev=3,e.next=6,y.a.get(c+"/api/triggers?page="+a+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:J});case 6:r=e.sent,0==r.data.numberOfElements&&1!=this.page&&this.changePage(this.page-1),this.messagesData=r.data.content,0==r.data.totalPages?this.pagesSize=1:this.pagesSize=r.data.totalPages,this.reloadTriggers(),this.showNotification(200),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](3),this.showNotification(-1);case 17:case"end":return e.stop()}}),e,this,[[3,14]])})));function t(t){return e.apply(this,arguments)}return t}(),toggleMenu:function(){this.menu=!this.menu},hideMenu:function(){this.menu=!1},setRows:function(e){e!=this.rowSize&&(this.rowSize=e,this.reloadTriggers()),this.menu=!this.menu},changePage:function(e){this.page=e,this.reloadTriggers(e-1)},create:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,y.a.get(c+"/api/triggers?page=0&size="+this.rowSize+"&sort=createdAt,"+this.sortType,{headers:t});case 4:a=e.sent,this.triggersData=a.data.content,0==a.data.totalPages?this.pagesSize=1:this.pagesSize=a.data.totalPages,this.rowSize=a.data.size,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.showNotification(-1);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}(),changeSortType:function(){"asc"==this.sortType?this.sortType="desc":this.sortType="asc"},sortBy:function(e){"asc"==this.sortType?this.sortType="desc":this.sortType="asc",this.sortByValue=e,this.reloadTriggers()}},directives:{ClickOutside:E.a}},Y=K,X=(a("8228"),Object(k["a"])(Y,F,q,!1,null,"1ee96f0d",null)),W=X.exports;R()(X,{VPagination:D["a"]});var G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"formaM"}},[a("div",{attrs:{id:"form-style-10"}},[a("form",{attrs:{id:"forma"}},[a("div",{attrs:{id:"section"}},[a("p",[a("span",{attrs:{id:"formTitle"}},[e._v(e._s(e.formType)+" Rezervacija")]),a("label",{staticStyle:{"font-size":"20px"},attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("X")])])]),a("div",{attrs:{id:"inner-wrap"}},[a("label",{class:{errorText:e.showTitleError}},[e._v("User Id")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userId,expression:"userId"}],class:{errorBorder:e.showTitleError},attrs:{autocomplete:"off",type:"text",name:"field1",placeholder:"User ID",id:"field1"},domProps:{value:e.userId},on:{input:function(t){t.target.composing||(e.userId=t.target.value)}}}),a("br"),a("span",{directives:[{name:"show",rawName:"v-show",value:e.boldSelected||e.italicSelected,expression:"boldSelected || italicSelected"}],staticStyle:{color:"grey"}},[e._v("Please input text between "+e._s(e.styleCharacters))]),a("label",{class:{errorText:e.showMessageError}},[e._v("Valid From")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.theDate,expression:"theDate"}],attrs:{type:"date"},domProps:{value:e.theDate},on:{input:function(t){t.target.composing||(e.theDate=t.target.value)}}}),a("label",{class:{errorText:e.showMessageError}},[e._v("Valid To")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.validTo,expression:"validTo"}],attrs:{type:"date"},domProps:{value:e.validTo},on:{input:function(t){t.target.composing||(e.validTo=t.target.value)}}}),a("br"),a("br"),a("input",{attrs:{type:"button",value:"Save",id:"submit"},on:{click:e.save}}),a("input",{attrs:{type:"button",value:"Cancel",id:"cancle"},on:{click:e.exit}})])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNotificationValue,expression:"showNotificationValue"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.showNotification}},[e._v("OK")])])])},Q=[],Z={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},ee={name:"FormReservation",data:function(){return{title:"",text:"",formType:"Create",theDate:theDate,validTo:validTo,userId:"",showTitleError:!1,showMessageError:!1,invalid:!1,liveValidation:!1,boldSelected:!1,italicSelected:!1,urlSelected:!1,regexTitle:/^.{5,30}$/,regexText:/^.{20,}$/,styleCharacters:"",textNoti:"",errorOccured:!1,showNotificationValue:!1}},mounted:function(){},watch:{title:function(e){this.title=e,1==this.liveValidation&&this.check_title(e)},text:function(e){this.text=e,1==this.liveValidation&&this.check_text(e)}},methods:{exit:function(){this.$emit("reload-messages"),this.$router.go(-1)},check_title:function(e){return this.regexTitle.test(e)?(this.showTitleError=!1,!0):(this.showTitleError=!0,!1)},closeNotification:function(){this.showNotificationValue=!1},showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNotificationValue=!this.showNotificationValue,setTimeout(this.closeNotification,1500)},check_text:function(e){return this.regexText.test(e)?(this.showMessageError=!1,!0):(this.showMessageError=!0,!1)},save:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=this.$route.params.id){e.next=13;break}return e.prev=1,e.next=4,y.a.post(c+"/korisnik/"+localStorage.getItem(p)+"/create/reservation",{validTo:this.validTo,validFrom:this.validFrom,userId:this.userId},{headers:Z});case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e["catch"](1),this.$emit("show-notification",-1),this.$router.go(-1),e.abrupt("return");case 11:e.next=23;break;case 13:return e.prev=13,e.next=16,y.a.put(c+"/api/messages/"+this.$route.params.id,{title:this.title,text:this.text});case 16:e.next=23;break;case 18:return e.prev=18,e.t1=e["catch"](13),this.$emit("show-notification",-1),this.$router.go(-1),e.abrupt("return");case 23:this.$emit("reload-messages"),this.$emit("show-notification"),this.$router.go(-1);case 26:case"end":return e.stop()}}),e,this,[[1,6],[13,18]])})));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get(c+"/api/messages/"+this.$route.params.id);case 3:t=e.sent,this.title=t.data.title,this.text=t.data.text,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$emit("show-notification",-1);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()}},te=ee,ae=(a("6f8e"),Object(k["a"])(te,G,Q,!1,null,"58136ad3",null)),re=ae.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"formaS"}},[a("div",{staticClass:"form-style-10"},[a("form",{attrs:{id:"forma"}},[a("div",{staticClass:"section"},[a("p",{attrs:{id:"section-text"}},[a("span",{attrs:{id:"formTitle"}},[e._v(e._s(e.formType)+" Schedule")]),a("label",{attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("x")])])]),a("div",{staticClass:"inner-wrap"},[a("label",{staticClass:"la"},[e._v("Message")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reservationId,expression:"reservationId"}],attrs:{type:"text"},domProps:{value:e.reservationId},on:{input:function(t){t.target.composing||(e.reservationId=t.target.value)}}}),a("select",{directives:[{name:"model",rawName:"v-model",value:e.messageTitle,expression:"messageTitle"}],class:{errorBorder:e.showTitleError,noErrorBorder:!e.showTitleError},attrs:{name:"field1",id:"field1",disabled:"Update"==e.formType},on:{click:e.getMessageID,change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.messageTitle=t.target.multiple?a:a[0]}}},[a("option",{attrs:{id:"messageTitle",disabled:"",selected:""}},[e._v(e._s(e.messageTitle))]),e._l(e.messagesData,(function(t){return a("option",{directives:[{name:"show",rawName:"v-show",value:e.showMessageOption,expression:"showMessageOption"}],key:t.messageId},[e._v(e._s(t.title))])}))],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showTitleError,expression:"showTitleError"}]},[e._v("Message title is required")]),a("br"),a("label",{staticClass:"la"},[e._v("Run At")]),a("br"),a("div",{staticClass:"input-append date form_datetime"},[a("div",[a("date-picker",{staticStyle:{"margin-top":"8px"},attrs:{lang:e.lang,type:"datetime",format:"[On] YYYY-MM-DD [at] HH:mm","minute-step":1,disabled:"Update"==e.formType,confirm:""},model:{value:e.datetime,callback:function(t){e.datetime=t},expression:"datetime"}})],1)]),a("br"),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showDateError,expression:"showDateError"}]},[e._v("Date and time is required and must not be less then current date and time")]),a("br"),a("label",{staticClass:"la"},[e._v("Channel name")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.channelName,expression:"channelName"}],class:{errorBorder:e.showChannelError,noErrorBorder:!e.showChannelError},attrs:{id:"field3",disabled:"Update"==e.formType},on:{click:e.getChannelID,change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.channelName=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.channelName))]),e._l(e.channelsData,(function(t){return a("option",{key:t.channelName},[e._v(e._s(t.channelName))])}))],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showChannelError,expression:"showChannelError"}]},[e._v("Channel name is required")]),a("br"),a("br"),a("label",{staticClass:"container"},[a("p",{staticClass:"checkText"},[e._v("Repeat")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.id,expression:"id"}],attrs:{type:"checkbox",checked:"checked",disabled:"Update"==e.formType},domProps:{checked:Array.isArray(e.id)?e._i(e.id,null)>-1:e.id},on:{change:function(t){var a=e.id,r=t.target,i=!!r.checked;if(Array.isArray(a)){var n=null,s=e._i(a,n);r.checked?s<0&&(e.id=a.concat([n])):s>-1&&(e.id=a.slice(0,s).concat(a.slice(s+1)))}else e.id=i}}}),a("span",{staticClass:"checkmark"})]),a("br"),a("label",{staticClass:"container"},[a("p",{staticClass:"checkText"},[e._v("Active")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"active"}],attrs:{type:"checkbox",checked:"checked"},domProps:{checked:Array.isArray(e.active)?e._i(e.active,null)>-1:e.active},on:{change:function(t){var a=e.active,r=t.target,i=!!r.checked;if(Array.isArray(a)){var n=null,s=e._i(a,n);r.checked?s<0&&(e.active=a.concat([n])):s>-1&&(e.active=a.slice(0,s).concat(a.slice(s+1)))}else e.active=i}}}),a("span",{staticClass:"checkmark"})]),a("input",{attrs:{type:"button",value:"Save",id:"submit"},on:{click:e.save}}),a("input",{attrs:{type:"button",id:"cancel",value:"Cancel"},on:{click:e.exit}})])])])])},ne=[],se=(a("14b9"),a("ea76")),oe=a.n(se),ce={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},le={name:"formaS",components:{DatePicker:oe.a},data:function(){return{id:id,messagesData:[],channelsData:[],messageTitle:localStorage.getItem(void 0),channelName:localStorage.getItem(void 0),targetMess:"",messId:"",showTitleError:!1,showDateError:!1,showChannelError:!1,repeat:!1,active:!1,reservationId:reservationId,formType:"Create",showMessageOption:!0,channelId:"",targetChannel:"",datetime:new Date,date:"",time:"",lang:{days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],placeholder:{date:"Select Date",dateRange:"Select Date Range"},timePickersOptions:{start:"00:00",step:"00:10",end:"23:50"}}}},mounted:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a,r,i,n,s,o,l,u,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=this.$route.params.id){e.next=13;break}return e.prev=1,e.next=4,y.a.get(c+"/api/messages",{headers:ce});case 4:t=e.sent,this.messagesData=t.data.content,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),this.$emit("show-notification",-1);case 11:e.next=57;break;case 13:if(a=this.$router.currentRoute.fullPath,r=a.substring(0,31),"/dashboard/racuni/newBill"!=r){e.next=29;break}return i={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=17,e.next=20,y.a.get(c+"/api/messages/"+this.$route.params.id,{headers:i});case 20:n=e.sent,this.messageTitle=n.data.title,e.next=27;break;case 24:e.prev=24,e.t1=e["catch"](17),this.$emit("show-notification",-1);case 27:e.next=57;break;case 29:return this.formType="Update",e.prev=30,o={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=34,y.a.get(c+"/api/schedules/"+this.$route.params.id,{headers:o});case 34:s=e.sent,this.id=s.data.id,this.repeat=s.data.repeat,this.messageTitle=s.data.message.title,this.date=s.data.runAt,this.messId=s.data.message.messageId,this.channelName=s.data.channel,e.next=46;break;case 43:e.prev=43,e.t2=e["catch"](30),this.$emit("show-notification",-1);case 46:return e.prev=46,l={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=50,y.a.get(c+"/api/messages",{headers:l});case 50:u=e.sent,this.messagesData=u.data.content,e.next=57;break;case 54:e.prev=54,e.t3=e["catch"](46),this.$emit("show-notification",-1);case 57:return e.prev=57,e.next=60,y.a.get(c+"/api/channels");case 60:h=e.sent,this.channelsData=h.data,e.next=67;break;case 64:e.prev=64,e.t4=e["catch"](57),this.$emit("show-notification",-1);case 67:case"end":return e.stop()}}),e,this,[[1,8],[17,24],[30,43],[46,54],[57,64]])})));function t(){return e.apply(this,arguments)}return t}(),watch:{messageTitle:function(e){this.messageTitle=e,1==this.liveValidation&&this.check_messageTitle(e)},datetime:function(e){this.datetime=e,1==this.liveValidation&&this.check_date(e)},channelName:function(e){this.channelName=e,1==this.liveValidation&&this.check_channelName(e)}},methods:{exit:function(){this.$router.go(-1)},check_messageTitle:function(e){return"Some message title"==this.messageTitle?(this.showTitleError=!0,!1):(this.showTitleError=!1,!0)},check_channelName:function(e){return"Some channel name"==this.channelName?(this.showChannelError=!0,!1):(this.showChannelError=!1,!0)},check_date:function(e){var t=new Date,a=document.getElementsByClassName("mx-input")[0];return 1==(this.datetime.getFullYear()==t.getFullYear()&&this.datetime.getMonth()==t.getMonth()&&this.datetime.getDay()==t.getDay())?this.datetime.getHours()>t.getHours()||this.datetime.getHours()==t.getHours()&&this.datetime.getMinutes()>t.getMinutes()?(this.showDateError=!1,a.style.borderColor="rgba(0, 0, 0, 0.2)",!0):(a.style.borderColor="red",this.showDateError=!0,!1):t>this.datetime?(a.style.borderColor="red",this.showDateError=!0,!1):(a.style.borderColor="rgba(0, 0, 0, 0.2)",this.showDateError=!1,!0)},save:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.liveValidation=!0,0==this.check_messageTitle(this.messageTitle)&&(this.invalid=!0),0==this.check_date(this.datetime)&&(this.invalid=!0),0==this.check_channelName(this.channelName)&&(this.invalid=!0),1!=this.invalid){e.next=7;break}return this.invalid=!1,e.abrupt("return");case 7:if(null==this.$route.params.id){e.next=33;break}if(t=this.$router.currentRoute.fullPath,a=t.substring(0,31),"/dashboard/messages/newSchedule"!=a){e.next=22;break}return e.prev=11,e.next=14,y.a.post(c+"/korisnik/racun/create",{reservationId:this.reservationId,createdBy:localStorage.getItem(p),active:this.active,channelId:this.channelId,repeat:this.repeat,messageId:this.$route.params.id,runAt:this.datetime,intervalId:"1"},{headers:ce});case 14:this.$emit("show-notification"),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](11),this.$emit("show-notification",-1);case 20:e.next=31;break;case 22:return e.prev=22,e.next=25,y.a.put(c+"/api/schedules/"+this.$route.params.id+"?active=false");case 25:this.$emit("show-notification"),e.next=31;break;case 28:e.prev=28,e.t1=e["catch"](22),this.$emit("show-notification",-1);case 31:e.next=42;break;case 33:return e.prev=33,e.next=36,y.a.post(c+"/api/schedules",{active:this.active,channelId:this.channelId,messageId:this.messId,repeat:this.repeat,runAt:this.datetime,intervalId:"1"},{headers:ce});case 36:this.$emit("show-notification"),e.next=42;break;case 39:e.prev=39,e.t2=e["catch"](33),this.$emit("show-notification",-1);case 42:this.$emit("reload-schedules"),this.$router.go(-1);case 44:case"end":return e.stop()}}),e,this,[[11,17],[22,28],[33,39]])})));function t(){return e.apply(this,arguments)}return t}(),getMessageID:function(){var e=this;this.messagesData.length>0&&(this.targetMess=this.messagesData.filter((function(t){return t.title==e.messageTitle})),this.messId=this.targetMess[0].messageId)},getChannelID:function(){var e=this;this.channelsData.length>1?(this.targetChannel=this.channelsData.filter((function(t){return t.channelName==e.channelName})),this.channelId=this.targetChannel[0].id):this.channelId=this.channelsData[0].id}}},ue=le,de=(a("4824"),Object(k["a"])(ue,ie,ne,!1,null,"2dcc8c48",null)),he=de.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"formaT"}},[a("div",{staticClass:"form-style-10"},[a("form",{attrs:{id:"forma"}},[a("div",{staticClass:"section"},[a("p",[a("span",{attrs:{id:"formTitle"}},[e._v("\n          "+e._s(e.formType)+" Trigger ")]),a("label",{attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("x")])])]),a("div",{staticClass:"inner-wrap"},[a("label",{staticClass:"la"},[e._v("Message")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.messageTitle,expression:"messageTitle"}],staticClass:"border",class:{errorBorder:e.showTitleError,noErrorBorder:!e.showTitleError},attrs:{id:"field1",disabled:"Update"==e.formType},on:{click:e.getMessageID,change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.messageTitle=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.messageTitle))]),e._l(e.messagesData,(function(t){return a("option",{directives:[{name:"show",rawName:"v-show",value:e.showMessageOption,expression:"showMessageOption"}],key:t.messageId},[e._v(e._s(t.title))])}))],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showTitleError,expression:"showTitleError"}]},[e._v("Message title is required")]),a("br"),a("label",{staticClass:"la"},[e._v("Trigger")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.triggerType,expression:"triggerType"}],staticClass:"border",class:{errorBorder:e.showTriggerError,noErrorBorder:!e.showTriggerError},attrs:{id:"field2",disabled:"Update"==e.formType},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.triggerType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[e._v("Some trigger type")]),e._l(e.triggersData,(function(t){return a("option",{key:t.type},[e._v(e._s(t.type))])}))],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showTriggerError,expression:"showTriggerError"}]},[e._v("Trigger type is required")]),a("br"),a("br"),a("label",{staticClass:"la"},[e._v("Channel name")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.channelName,expression:"channelName"}],staticClass:"border",class:{errorBorder:e.showChannelError,noErrorBorder:!e.showChannelError},attrs:{id:"field3",disabled:"Update"==e.formType},on:{click:e.getChannelID,change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.channelName=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.channelName))]),e._l(e.channelsData,(function(t){return a("option",{key:t.channelName},[e._v(e._s(t.channelName))])}))],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showChannelError,expression:"showChannelError"}]},[e._v("Channel name is required")]),a("br"),a("br"),a("label",{staticClass:"container"},[a("p",{staticClass:"checkText",attrs:{id:"active"}},[e._v("Active")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"active"}],attrs:{type:"checkbox",checked:"checked"},domProps:{checked:Array.isArray(e.active)?e._i(e.active,null)>-1:e.active},on:{change:function(t){var a=e.active,r=t.target,i=!!r.checked;if(Array.isArray(a)){var n=null,s=e._i(a,n);r.checked?s<0&&(e.active=a.concat([n])):s>-1&&(e.active=a.slice(0,s).concat(a.slice(s+1)))}else e.active=i}}}),a("span",{staticClass:"checkmark"})]),a("br"),a("br"),a("input",{attrs:{type:"button",value:"Save",id:"submit"},on:{click:e.save}}),a("input",{attrs:{type:"button",value:"Cancel",id:"cancel"},on:{click:e.exit}})])])])])},ge=[],pe=(localStorage.getItem(d),{name:"formaT",data:function(){return{messagesData:[],channelsData:[],triggersData:[],targetMess:"",messageTitle:localStorage.getItem(void 0),triggerType:localStorage.getItem(void 0),channelName:localStorage.getItem(void 0),active:!1,formType:"Create",messId:"",liveValidation:!1,showTitleError:!1,showTriggerError:!1,showChannelError:!1,showMessageOption:!0,channelId:"",targetChannel:""}},mounted:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a,r,i,n,s,o,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},null==this.$route.params.id){e.next=44;break}if(a=this.$router.currentRoute.fullPath,r=a.substring(0,30),"/dashboard/messages/newTrigger"!=r){e.next=17;break}return e.prev=5,e.next=8,y.a.get(c+"/api/messages/"+this.$route.params.id);case 8:i=e.sent,this.messageTitle=i.data.title,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),this.$emit("show-notification",-1);case 15:e.next=42;break;case 17:return this.formType="Update",e.prev=18,e.next=21,y.a.get(c+"/api/triggers/"+this.$route.params.id);case 21:n=e.sent,this.messageTitle=n.data.message.title,this.channelName=n.data.channel,this.active=n.data.active,this.triggerType=n.data.triggerType,this.messId=n.data.message.messageId,e.next=32;break;case 29:e.prev=29,e.t1=e["catch"](18),this.$emit("show-notification",-1);case 32:return e.prev=32,e.next=35,y.a.get(c+"/api/messages",{headers:t});case 35:s=e.sent,this.messagesData=s.data.content,e.next=42;break;case 39:e.prev=39,e.t2=e["catch"](32),this.$emit("show-notification",-1);case 42:e.next=54;break;case 44:return e.prev=44,e.next=47,y.a.get(c+"/api/messages",{headers:t});case 47:o=e.sent,this.messagesData=o.data.content,e.next=54;break;case 51:e.prev=51,e.t3=e["catch"](44),this.$emit("show-notification",-1);case 54:return e.prev=54,e.next=57,y.a.get(c+"/api/channels");case 57:l=e.sent,this.channelsData=l.data,e.next=64;break;case 61:e.prev=61,e.t4=e["catch"](54),this.$emit("show-notification",-1);case 64:return e.prev=64,e.next=67,y.a.get(c+"/api/slack-triggers");case 67:u=e.sent,this.triggersData=u.data,e.next=74;break;case 71:e.prev=71,e.t5=e["catch"](64),this.$emit("show-notification",-1);case 74:case"end":return e.stop()}}),e,this,[[5,12],[18,29],[32,39],[44,51],[54,61],[64,71]])})));function t(){return e.apply(this,arguments)}return t}(),watch:{messageTitle:function(e){this.messageTitle=e,1==this.liveValidation&&this.check_messageTitle(e)},triggerType:function(e){this.triggerType=e,1==this.liveValidation&&this.check_triggerType(e)},channelName:function(e){this.channelName=e,1==this.liveValidation&&this.check_channelName(e)}},methods:{exit:function(){this.$router.go(-1)},check_messageTitle:function(e){return"Some message title"==this.messageTitle?(this.showTitleError=!0,!1):(this.showTitleError=!1,!0)},check_triggerType:function(e){return"Some trigger type"==this.triggerType?(this.showTriggerError=!0,!1):(this.showTriggerError=!1,!0)},check_channelName:function(e){return"Some channel name"==this.channelName?(this.showChannelError=!0,!1):(this.showChannelError=!1,!0)},save:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},this.liveValidation=!0,0==this.check_messageTitle(this.messageTitle)&&(this.invalid=!0),0==this.check_triggerType(this.triggerType)&&(this.invalid=!0),0==this.check_channelName(this.channelName)&&(this.invalid=!0),1!=this.invalid){e.next=8;break}return this.invalid=!1,e.abrupt("return");case 8:if(null==this.$route.params.id){e.next=38;break}if(a=this.$router.currentRoute.fullPath,r=a.substring(0,30),"/dashboard/messages/newTrigger"!=r){e.next=23;break}return e.prev=12,e.next=15,y.a.post(c+"/api/triggers",{channelId:this.channelId,triggerType:this.triggerType,active:this.active,messageId:this.$route.params.id},{headers:t});case 15:this.$emit("show-notification"),e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](12),this.$emit("show-notification",-1);case 21:e.next=36;break;case 23:return e.prev=23,e.next=26,y.a.get(c+"/api/messages",{headers:t});case 26:return i=e.sent,this.messagesData=i.data.content,e.next=30,y.a.put(c+"/api/triggers/"+this.$route.params.id+"?active="+this.active);case 30:this.$emit("show-notification"),e.next=36;break;case 33:e.prev=33,e.t1=e["catch"](23),this.$emit("show-notification",-1);case 36:e.next=47;break;case 38:return e.prev=38,e.next=41,y.a.post(c+"/api/triggers",{active:this.active,messageId:this.messId,triggerType:this.triggerType,channelId:this.channelId},{headers:t});case 41:this.$emit("show-notification"),e.next=47;break;case 44:e.prev=44,e.t2=e["catch"](38),this.$emit("show-notification",-1);case 47:this.$emit("reload-triggers"),this.$router.go(-1);case 49:case"end":return e.stop()}}),e,this,[[12,18],[23,33],[38,44]])})));function t(){return e.apply(this,arguments)}return t}(),getMessageID:function(){var e=this;this.messagesData.length>1?(this.targetMess=this.messagesData.filter((function(t){return t.title==e.messageTitle})),this.messId=this.targetMess[0].messageId):this.messId=this.messagesData[0].messageId},getChannelID:function(){var e=this;this.channelsData.length>1?(this.targetChannel=this.channelsData.filter((function(t){return t.channelName==e.channelName})),this.channelId=this.targetChannel[0].id):this.channelId=this.channelsData[0].id}}}),ve=pe,fe=(a("24cf"),Object(k["a"])(ve,me,ge,!1,null,"4d6ac73c",null)),we=fe.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"formaU"}},[a("div",{attrs:{id:"form-style-10"}},[a("form",{attrs:{id:"forma"}},[a("div",{attrs:{id:"section"}},[a("p",[a("span",{attrs:{id:"createUser"}},[e._v("Create User")]),a("label",{staticStyle:{"font-size":"20px"},attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("X")])])]),a("div",{attrs:{id:"inner-wrap"}},[a("label",{staticClass:"la"},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:{errorBorder:e.emailError,noErrorBorder:!e.emailError},attrs:{type:"text",name:"field1",id:"field1",placeholder:"New user email",autocomplete:"off"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.emailError,expression:"emailError"}]},[e._v("Email address is not valid")]),a("br"),a("label",{staticClass:"la"},[e._v("Role")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.roleType,expression:"roleType"}],class:{errorBorder:e.roleError,noErrorBorder:!e.roleError},attrs:{id:"field2"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.roleType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.roleType))]),e._l(e.role,(function(t){return a("option",{key:t.name},[e._v(e._s(t))])}))],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.roleError,expression:"roleError"}]},[e._v("User role is required")]),a("input",{staticClass:"input-options",attrs:{type:"button",value:"Save",id:"submit"},on:{click:e.save}}),a("input",{staticClass:"input-options",attrs:{type:"button",value:"Cancel",id:"cancle"},on:{click:e.exit}})])])])])},be=[],_e=(localStorage.getItem(d),{name:"formaU",data:function(){return{email:"",role:["ADMIN",localStorage.getItem(void 0)],roleType:localStorage.getItem(void 0),emailError:!1,roleError:!1,liveValidation:!1,invalid:!1,formType:"Create",rule:/.*\@\w{1,}\.\w{1,}/}},mounted:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"light"==localStorage.getItem(v)?document.getElementById("form-style-10").style.backgroundColor="white":"dark"==localStorage.getItem(v)&&(document.getElementById("form-style-10").style.backgroundColor="black"),"en"!=localStorage.getItem(f)&&(document.getElementById("createUser").innerHTML=localStorage.getItem(void 0),document.getElementById("field1").placeholder=localStorage.getItem(void 0),document.getElementById("createUser").style.color="black",document.getElementsByTagName("LABEL")[2].innerHTML=localStorage.getItem(void 0),document.getElementById("cancle").value=localStorage.getItem(void 0),document.getElementsByTagName("INPUT")[1].value=localStorage.getItem(void 0)),"Dark"==localStorage.getItem(v)&&(document.getElementById("cancle").style.backgroundColor="#191919",document.getElementById("cancle").style.color="white",document.getElementById("createUser").style.color="white",document.getElementById("form-style-10").style.backgroundColor="#191919",document.getElementById("inner-wrap").style.backgroundColor="#191919",document.getElementsByTagName("label")[0].style.backgroundColor="#191919",document.getElementsByTagName("label")[1].style.backgroundColor="#191919",document.getElementsByTagName("label")[2].style.backgroundColor="#191919");case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{exit:function(){this.$router.go(-1)},save:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("KORISNIK"==this.roleType&&(this.roleType="USER"),t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},this.liveValidation=!0,0==this.check_email(this.email)&&(this.invalid=!0),0==this.check_roleType(this.roleType)&&(this.invalid=!0),1!=this.invalid){e.next=10;break}return this.invalid=!1,e.abrupt("return");case 10:if(null!=this.$route.params.id){e.next=23;break}return e.prev=11,e.next=14,y.a.post(c+"/user/create",{email:this.email,role:this.roleType},{headers:t});case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e["catch"](11),this.$emit("show-notification",-1),this.$router.go(-1),e.abrupt("return");case 21:e.next=33;break;case 23:return e.prev=23,e.next=26,y.a.get(c+"/user/getAllUsers/"+this.$route.params.id,{title:this.title,text:this.text},{headers:t});case 26:e.next=33;break;case 28:return e.prev=28,e.t1=e["catch"](23),this.$emit("show-notification",-1),this.$router.go(-1),e.abrupt("return");case 33:this.$emit("reload-users"),this.$emit("show-notification"),this.$router.go(-1);case 36:case"end":return e.stop()}}),e,this,[[11,16],[23,28]])})));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,y.a.get(c+"/user/getAllUsers/"+this.$route.params.id,{headers:t});case 4:a=e.sent,this.title=a.data.title,this.text=a.data.text,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.$emit("show-notification",-1);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}(),check_email:function(e){return this.rule.test(e)?(this.emailError=!1,!0):(this.emailError=!0,!1)},check_roleType:function(e){return"New user role"==this.roleType?(this.roleError=!0,!1):(this.roleError=!1,!0)}},watch:{email:function(e){this.email=e,1==this.liveValidation&&this.check_email(e)},roleType:function(e){this.triggerType=e,1==this.liveValidation&&this.check_roleType(e)}}}),ke=_e,xe=(a("e6f5"),Object(k["a"])(ke,ye,be,!1,null,"0bbd613e",null)),Se=xe.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"user"}},[a("router-view",{on:{"reload-users":function(t){return e.reloadUsers()}}}),e._m(0),a("div",{attrs:{id:"divlist"}},[a("ul",{attrs:{id:"list"}},[a("li",{attrs:{id:"title-li"}},[a("div",{staticClass:"column1 column"},[a("h5",[e._v("Name")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by name"},on:{click:function(t){return e.sortBy("name")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column2 column"},[a("h5",[e._v("Email")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by email"},on:{click:function(t){return e.sortBy("email")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column3 column"},[a("h5",[e._v("Role")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by role"},on:{click:function(t){return e.sortBy("role")}}},[e._v("arrow_drop_down")])])]),e._m(1)]),e._l(e.usersData,(function(t){return a("li",{key:t.id},[a("div",{staticClass:"linear2"}),a("div",{staticClass:"linear1"}),a("div",{staticClass:"column1 column"},[a("p",[e._v(e._s(t.name))])]),a("div",{staticClass:"column2 column"},[a("p",[e._v(e._s(t.email))])]),a("div",{staticClass:"column3 column"},[a("p",[e._v(e._s(t.role))])]),a("div",{staticClass:"column4 column"},[a("i",{staticClass:"material-icons",attrs:{title:"Delete user"},on:{click:function(a){return e.deleteUser(t.id)}}},[e._v("delete")])])])}))],2)]),a("div",{attrs:{id:"footer"}},[a("button",{attrs:{id:"footer-btn"},on:{click:e.toggleMenu}},[e._v(e._s(this.rowSize)+" Rows")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menu,expression:"menu"}],attrs:{id:"menu"}},e._l(e.rowSizesValue,(function(t){return a("div",{key:t,staticClass:"menu-article",on:{click:function(a){return e.setRows(t)}}},[e._v(e._s(t))])})),0),a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:e.pagesSize,"total-visible":5},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]),a("button",{attrs:{id:"btn"},on:{click:e.showUserForm}},[e._v("+")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNotificationValue,expression:"showNotificationValue"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.showNotification}},[e._v("OK")])])],1)},Te=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",[e._v("Users")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column4 column"},[a("p",[a("i",{staticClass:"material-icons"},[e._v("filter_list")])])])}],Ne=a("bd86"),Ie=(localStorage.getItem(d),{name:"user",data:function(){var e;return e={usersData:[],textNoti:"",showNoti:!1,rowSizesValue:[5,10,20],rowSize:20,page:1,pagesSize:1,menu:!1,sortByValue:"role",sortType:"desc"},Object(Ne["a"])(e,"textNoti",""),Object(Ne["a"])(e,"errorOccured",!1),Object(Ne["a"])(e,"showNotificationValue",!1),e},mounted:function(){localStorage.getItem(d);"Light"==localStorage.getItem(v)?(this.$emit("change-light"),document.getElementById("header").style.backgroundColor="white",document.getElementById("divlist").style.backgroundColor="white"):"Dark"==localStorage.getItem(v)&&(this.$emit("change-dark"),document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("user").style.color="#f1f1f1",document.getElementById("footer").style.backgroundColor="#191919",document.getElementById("divlist").style.backgroundColor="#4c4c4c",document.getElementById("header").style.backgroundColor="#191919",document.getElementById("user").style.backgroundColor="#191919",document.getElementById("title-li").style.backgroundColor="#323232",document.getElementById("title-li").style.color="#f1f1f1",document.getElementsByTagName("H5")[0].style.color="#f1f1f1",document.getElementsByTagName("H5")[1].style.color="#f1f1f1",document.getElementsByTagName("H5")[2].style.color="#f1f1f1"),"en"!=localStorage.getItem(f)&&(document.getElementsByTagName("H1")[0].innerHTML=localStorage.getItem(void 0),document.getElementsByTagName("H5")[0].innerHTML=localStorage.getItem(void 0),document.getElementsByTagName("H5")[2].innerHTML=localStorage.getItem(void 0)),this.create()},methods:{toggleMenu:function(){this.menu=!this.menu},hideMenu:function(){this.menu=!1},setRows:function(e){e!=this.rowSize&&(this.rowSize=e,this.reloadUsers()),this.menu=!this.menu},changePage:function(e){this.page=e,this.reloadUsers(e-1)},closeNotification:function(){this.showNotificationValue=!1},showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNotificationValue=!this.showNotificationValue,setTimeout(this.closeNotification,1500)},editUser:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$router.push("/dashboard/messages/updateUser/"+t);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteUser:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,y.a.delete(c+"/user/"+t,{headers:a});case 3:return r=this.page-1,e.prev=4,e.next=7,y.a.get(c+"/user/getAllUsers?page="+r+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:a});case 7:i=e.sent,0==i.data.numberOfElements&&1!=this.page&&this.changePage(this.page-1),this.usersData=i.data.content,0==i.data.totalPages?this.pagesSize=1:this.pagesSize=i.data.totalPages,this.showNotification(200),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),this.showNotification(-1);case 17:case"end":return e.stop()}}),e,this,[[4,14]])})));function t(t){return e.apply(this,arguments)}return t}(),reloadUsers:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},a=this.page-1,e.prev=2,e.next=5,y.a.get(c+"/user/getAllUsers?page="+a+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:t});case 5:r=e.sent,r.data.totalPages<this.page&&this.changePage(r.data.totalPages),this.usersData=r.data.content,this.pagesSize=r.data.totalPages,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.showNotification(-1);case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(){return e.apply(this,arguments)}return t}(),showUserForm:function(){this.$router.push("/dashboard/user/newUser")},create:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,y.a.get(c+"/user/getAllUsers?page=0&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:t});case 4:a=e.sent,this.usersData=a.data.content,0==a.data.totalPages?this.pagesSize=1:this.pagesSize=a.data.totalPages,this.rowSize=a.data.size,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.showNotification(-1);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}(),sortBy:function(e){"desc"==this.sortType?this.sortType="asc":this.sortType="desc",this.sortByValue=e,this.reloadUsers()}},directives:{ClickOutside:E.a}}),Ee=Ie,Be=(a("64d8"),Object(k["a"])(Ee,Ce,Te,!1,null,"6c7f4432",null)),Oe=Be.exports;R()(Be,{VPagination:D["a"]});var ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"login"}},[a("router-view"),a("div",{attrs:{id:"right"}},[a("div",{attrs:{id:"right-content"}},[e._m(0),e._m(1),a("button",{attrs:{id:"button",className:"btn btn-block btn-primary"},on:{click:e.showLoginForm}},[e._v(" Login ")]),a("br"),a("button",{attrs:{id:"button2",className:"btn btn-block btn-primary"},on:{click:e.showRegisterForm}},[e._v(" Sign Up ")])])]),e._m(2)],1)},$e=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{attrs:{id:"btn btn-block social-btn google",href:""}},[a("div",{attrs:{id:"google-sign"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),a("br")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"left"}},[a("h1",[e._v(" Hotel Ena Application ")]),a("div"),a("br"),a("br")])}],Re={name:"login",data:function(){return{email:"",password:""}},methods:{showLoginForm:function(){console.log("enters"),this.$router.push("/loginForm")},showRegisterForm:function(){console.log("enters"),this.$router.push("/registerForm")}},mounted:function(){document.getElementById("btn btn-block social-btn google").href=u}},De=Re,Pe=(a("b335"),Object(k["a"])(De,ze,$e,!1,null,"8b9ae242",null)),Me=Pe.exports,Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Dashboard"}},[a("div",{attrs:{id:"nav-bar"}},[a("navigation")],1),a("div",{attrs:{id:"dropdown"}},[a("v-menu",{attrs:{"open-on-hover":"",top:"","offset-y":"","offset-x":"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("div",e._g({attrs:{id:"usersdata"}},r),[a("i",{staticClass:"material-icons",attrs:{id:"icon"}},[e._v("arrow_drop_down")]),a("button",{attrs:{id:"picture"}},[a("img",{staticClass:"img-circle",attrs:{id:"pic",width:"80",height:"70"}})]),a("div",{attrs:{id:"credentials"}},[a("h3",{attrs:{id:"name"}}),a("br"),a("p",{attrs:{id:"email"}})])])]}}])},[a("ul",{attrs:{id:"settings"}},e._l(e.items,(function(t,r){return a("li",{key:r,staticClass:"options",on:{click:function(t){return e.showDropdown(r)}}},[a("p",{staticClass:"option"},[e._v(e._s(t.title))])])})),0)])],1),a("div",{attrs:{id:"dashboard"}},[a("div",{attrs:{id:"table"}},[a("router-view",{on:{"change-language":function(t){return e.Translate()}}})],1)])])},je=[],Ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab"},[a("div",{staticClass:"tablinks",attrs:{id:"logo"}}),a("router-link",{staticClass:"router-link",attrs:{to:"/dashboard/rezervacije"}},[a("button",{staticClass:"active"},[a("v-icon",{staticStyle:{"margin-bottom":"10px"},attrs:{color:"white"}},[e._v("local_post_office")]),a("br"),a("span",[e._v("Rezervacije")])],1)]),a("router-link",{staticClass:"router-link",attrs:{to:"/dashboard/racuni"}},[a("button",[a("v-icon",{staticStyle:{"margin-bottom":"10px"},attrs:{color:"white"}},[e._v("assignment_turned_in")]),a("br"),a("span",[e._v("Racuni")])],1)]),a("router-link",{staticClass:"router-link",attrs:{to:"/dashboard/poll"}},[a("button",[a("v-icon",{staticStyle:{"margin-bottom":"10px"},attrs:{color:"white",size:"32"}},[e._v("poll")]),a("br"),a("span",[e._v("Sobe")])],1)]),a("router-link",{staticClass:"router-link",attrs:{to:"/dashboard/user"}},[a("button",{attrs:{id:"usertab"}},[a("v-icon",{staticStyle:{"margin-bottom":"10px"},attrs:{color:"white",size:"32"}},[e._v("person")]),a("br"),a("span",[e._v("Users")])],1)])],1)},He=[],Ue=(a("4be7"),{name:"navigation",data:function(){return{notificationNumber:0,userId:0}},mounted:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,y.a.get(c+"/korisnik/me",{headers:t}).then((function(e){localStorage.setItem(m,e.data.email),localStorage.setItem(USER_NAME,e.data.name),localStorage.setItem(USER_PIC,e.data.imageUrl),localStorage.setItem(CURRENT_USER_ROLE,e.data.role),localStorage.setItem(USER_THEME,e.data.userSettings.theme)})).catch((function(e){console.log(e)}));case 3:"ADMIN"!=localStorage.getItem(CURRENT_USER_ROLE)&&(document.getElementById("usertab").style.display="none"),this.subscribeToNotification();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{subscribeToNotification:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},a=this,this.source=null,e.next=5,y.a.get(c+"/korisnik/me",{headers:t}).then((function(e){r.userId=e.data.id})).catch((function(e){console.log(e)}));case 5:this.source=new EventSource(c+"/api/logs/new-logs-stream/"+this.userId),this.source.addEventListener("new-log-event",(function(e){JSON.parse(e.data);a.notificationNumber=e.data})),this.source.onerror=function(){console.log("TESTERRR"),this.close()};case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}}),Le=Ue,Fe=(a("9028"),a("132d")),qe=Object(k["a"])(Le,Ae,He,!1,null,null,null),Je=qe.exports;R()(qe,{VIcon:Fe["a"]});var Ke={name:"Dashboard",components:{navigation:Je},data:function(){return{items:[{title:"Profile"},{title:"Log Out"}]}},mounted:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,y.a.get(c+"/korisnik/me",{headers:t}).then((function(e){localStorage.setItem(m,e.data.email),localStorage.setItem(g,e.data.name),localStorage.setItem(void 0,e.data.imageUrl),localStorage.setItem(h,e.data.role),localStorage.setItem(v,e.data.userSettings.theme),localStorage.setItem(f,e.data.userSettings.language)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),methods:{showDropdown:function(e){0==e?this.$router.push("/profile"):1==e?this.$router.push("/settings"):2==e&&(localStorage.setItem(d,""),localStorage.setItem(h,""),localStorage.setItem(v,""),localStorage.setItem(h,""),localStorage.setItem(m,""),localStorage.setItem(f,""),localStorage.setItem(g,""),localStorage.setItem(void 0,""),this.$router.push("/login"))},Translate:function(){"fr"==localStorage.getItem(f)&&(this.items[0].title=localStorage.getItem(void 0),this.items[1].title=localStorage.getItem(void 0),this.items[2].title=localStorage.getItem(void 0)),Je.methods.Translate()}}},Ye=Ke,Xe=(a("2a57"),a("e449")),We=Object(k["a"])(Ye,Ve,je,!1,null,"763519c4",null),Ge=We.exports;R()(We,{VMenu:Xe["a"]});var Qe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ze=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"profile1"}},[a("div",{attrs:{id:"header"}},[a("h1",[e._v("Profile")])]),a("br"),a("div",{staticClass:"data",attrs:{id:"profile"}},[a("img",{staticClass:"img-circle",attrs:{id:"pic1",width:"100",height:"100"}}),a("br"),a("br"),a("p",[a("strong",[e._v("Name:")])]),a("p",{attrs:{id:"name1"}}),a("br"),a("p",[a("strong",[e._v("Email:")])]),a("p",{attrs:{id:"email1"}}),a("br"),a("p",[a("strong",[e._v("Language:")])]),a("p",{attrs:{id:"language1"}}),a("br"),a("p",[a("strong",[e._v("Theme:")])]),a("p",{attrs:{id:"theme1"}}),a("br"),a("p",[a("strong",[e._v("Role:")])]),a("p",{attrs:{id:"role1"}}),a("br")])])}],et={name:"profil",mounted:function(){document.getElementById("email1").innerHTML=localStorage.getItem(m),document.getElementById("name1").innerHTML=localStorage.getItem(g),document.getElementById("pic1").src=localStorage.getItem(void 0),document.getElementById("language1").innerHTML=localStorage.getItem("language"+localStorage.getItem(f).toUpperCase()),document.getElementById("theme1").innerHTML=localStorage.getItem(v),document.getElementById("role1").innerHTML=localStorage.getItem(h),"Light"==localStorage.getItem(v)?(this.$emit("change-light"),document.getElementById("profile1").style.backgroundColor="white",document.getElementById("profile1").style.color="black"):"Dark"==localStorage.getItem(v)&&(this.$emit("change-dark"),document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("profile").style.backgroundColor="#191919",document.getElementById("profile").style.color="black",document.getElementById("header").style.backgroundColor="black",document.getElementById("table").style.backgroundColor="black",document.getElementById("profile").style.color="white"),"en"!=localStorage.getItem(f)&&(document.getElementsByTagName("H1")[0].innerHTML=localStorage.getItem(void 0),document.getElementsByTagName("P")[4].innerHTML=localStorage.getItem(void 0)+":",document.getElementsByTagName("P")[8].innerHTML=localStorage.getItem(void 0)+":",document.getElementsByTagName("P")[10].innerHTML=localStorage.getItem(void 0),document.getElementsByTagName("P")[12].innerHTML=localStorage.getItem(void 0)+":",document.getElementById("submit").innerHTML=localStorage.getItem(void 0))},methods:{signOut:function(){localStorage.setItem(d,""),localStorage.setItem(h,""),localStorage.setItem(void 0,""),localStorage.setItem(h,""),localStorage.setItem(m,""),localStorage.setItem(f,""),localStorage.setItem(g,""),localStorage.setItem(void 0,""),alert("You're safely logged out!"),this.$router.push("/login")}}},tt=et,at=(a("1cc2"),Object(k["a"])(tt,Qe,Ze,!1,null,"9bd3b7ee",null)),rt=at.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"OAuth2RedirectHandler"}})},nt=[],st=(a("386d"),a("3b2b"),a("a481"),{name:"o-auth2-redirect-handler",mounted:function(){var e=this.getUrlParameter("token");e?(localStorage.setItem(d,e),this.$router.push("/dashboard/rezervacije")):this.$router.push("/error")},methods:{getUrlParameter:function(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),a=t.exec(window.location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))}}}),ot=st,ct=Object(k["a"])(ot,it,nt,!1,null,null,null),lt=ct.exports,ut=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"error"}},[r("img",{staticClass:"img-circle",attrs:{id:"pic",width:"500",height:"300",src:a("16f4")}}),r("h1",[e._v(" 404 Error")]),r("div",{staticClass:"data"},[r("br"),r("br"),r("p",{staticClass:"center1"},[e._v("  Error occured while loading the resources. ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center1"},[e._v(" Please login again. ")]),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("p",{staticClass:"center"},[e._v(" | ")]),r("br"),r("br"),r("input",{attrs:{type:"button",value:"Go back to the login page",id:"submit"},on:{click:function(t){return e.goBack()}}})])])},dt=[],ht={name:"error",mounted:function(){"light"==localStorage.getItem(THEME)?document.getElementById("error").style.backgroundColor="white":"dark"==localStorage.getItem(THEME)&&(document.getElementById("error").style.backgroundColor="black"),localStorage.setItem(d,""),localStorage.setItem(CURRENT_USER_ROLE,""),localStorage.setItem(THEME,""),localStorage.setItem(CURRENT_USER_ROLE,""),localStorage.setItem(USER_EMAIL,""),localStorage.setItem(USER_NAME,""),localStorage.setItem(USER_PIC,"")},methods:{goBack:function(){this.$router.push("/login")}}},mt=ht,gt=(a("2aec"),Object(k["a"])(mt,ut,dt,!1,null,"7ddfa72e",null)),pt=gt.exports,vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"registration"}},[a("div",{attrs:{id:"form-style-10"}},[a("form",{attrs:{id:"forma"}},[a("div",{attrs:{id:"section"}},[a("p",{attrs:{id:"pollViewTitle"}},[e._v("\n           Registration\n           "),a("label",{staticStyle:{"font-size":"20px"},attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("X")])])]),a("div",{attrs:{id:"inner-wrap"}},[a("label",{staticClass:"la"},[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",name:"field1",id:"field1",placeholder:"Enter your Name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("label",{staticClass:"la"},[e._v("Surname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.surname,expression:"surname"}],attrs:{type:"text",name:"field1",id:"field1",placeholder:"Enter your Surname",required:""},domProps:{value:e.surname},on:{input:function(t){t.target.composing||(e.surname=t.target.value)}}}),a("label",{staticClass:"la"},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",name:"field1",id:"field1",placeholder:"Enter your email",required:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("label",{staticClass:"la"},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"field1",id:"field1",placeholder:"Enter your password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.ifError,expression:"ifError"}]},[e._v(" something ")]),a("input",{attrs:{type:"button",value:"Save",id:"submit"},on:{click:e.save}}),a("input",{staticClass:"input-options",attrs:{type:"button",value:"Cancel",id:"cancle"},on:{click:e.exit}})])])])])},ft=[],wt={name:"registration",data:function(){return{title:"",choiceList:[],password:"",username:"",name:"",surname:"",email:"",ifError:!1,error:""}},mounted:function(){this.create()},methods:{exit:function(){this.$router.go(-1)},save:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post(c+"/auth/signup",{email:this.email,password:this.password,name:this.name,surname:this.surname});case 3:t=e.sent,1==t.data.success?this.$router.push("/login"):(cosnole.log("enters"),this.ifError=!0,this.error=t.data.apierror,this.$router.push("/error")),this.$emit("show-notification"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$emit("show-notification",-1);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()}},yt=wt,bt=(a("789b"),Object(k["a"])(yt,vt,ft,!1,null,"0ec33e90",null)),_t=bt.exports,kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"poll"}},[a("router-view",{on:{"reload-poll":function(t){return e.reloadPoll()},"show-notification":function(t){return e.showNotification(t)}}}),e._m(0),a("div",{attrs:{id:"divlist"}},[a("ul",{attrs:{id:"list"}},[a("li",{attrs:{id:"title-li"}},[a("div",{staticClass:"column1 column"},[a("h5",[e._v("Title")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by title"},on:{click:function(t){return e.sortBy("title")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column2 column"},[a("h5",[e._v("Channel")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by channel"},on:{click:function(t){return e.sortBy("channel")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column3 column"},[a("h5",[e._v("Active")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by active"},on:{click:function(t){return e.sortBy("active")}}},[e._v("arrow_drop_down")])])]),e._m(1)]),e._l(e.pollData,(function(t){return a("li",{key:t.pollId,staticClass:"li",on:{click:function(a){return e.viewPoll(t.pollId)}}},[a("div",{staticClass:"linear2"}),a("div",{staticClass:"linear1"}),a("div",{staticClass:"column1 column"},[a("p",[e._v(e._s(t.title))])]),a("div",{staticClass:"column2 column"},[a("p",[e._v(e._s(t.channel))])]),a("div",{staticClass:"column3 column"},[a("p",[e._v(e._s(e._f("shortDate")(t.activeUntil)))])]),a("div",{staticClass:"column4 column"},[a("i",{staticClass:"material-icons",attrs:{title:"Delete poll"},on:{click:function(a){return a.stopPropagation(),e.deletePoll(t.pollId)}}},[e._v("delete")])])])}))],2)]),a("div",{attrs:{id:"footer"}},[a("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],attrs:{id:"footer-btn"},on:{click:e.toggleMenu}},[e._v(e._s(this.rowSize)+" Rows")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menu,expression:"menu"}],attrs:{id:"menu"}},e._l(e.rowSizesValue,(function(t){return a("div",{key:t,staticClass:"menu-article",on:{click:function(a){return e.setRows(t)}}},[e._v(e._s(t))])})),0),a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:e.pagesSize,"total-visible":5},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]),a("button",{attrs:{id:"btn"},on:{click:e.showPollForm}},[e._v("+")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNoti,expression:"showNoti"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.showNotification}},[e._v("OK")])])],1)},xt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",[e._v("Sobe")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"column4 column"},[a("p",[a("i",{staticClass:"material-icons"},[e._v("filter_list")])])])}],St={name:"poll",data:function(){var e;return e={pollData:[],textNoti:"",showNoti:!1,rowSizesValue:[5,10,20],rowSize:20,page:1,pagesSize:1,menu:!1,sortByValue:"createdAt",sortType:"desc"},Object(Ne["a"])(e,"textNoti",""),Object(Ne["a"])(e,"errorOccured",!1),Object(Ne["a"])(e,"showNoti",!1),e},mounted:function(){this.create()},methods:{showPollForm:function(){this.$router.push("/dashboard/poll/newPoll")},toggleMenu:function(){this.menu=!this.menu},hideMenu:function(){this.menu=!1},setRows:function(e){e!=this.rowSize&&(this.rowSize=e,this.reloadPoll()),this.menu=!this.menu},changePage:function(e){this.page=e,this.reloadPoll(e-1)},sortBy:function(e){"desc"==this.sortType?this.sortType="asc":this.sortType="desc",this.sortByValue=e,this.reloadPoll()},reloadPoll:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},a=this.page-1,e.prev=2,e.next=5,y.a.get(c+"/api/polls?page="+a+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:t});case 5:r=e.sent,this.pollData=r.data.content,r.data.totalPages<this.page&&this.changePage(r.data.totalPages),this.pagesSize=r.data.totalPages,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.showNotification(-1);case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,y.a.get(c+"/api/polls?page=0&size="+this.rowSize+"&sort=createdAt",{headers:t});case 4:a=e.sent,this.pollData=a.data.content,0==a.data.totalPages?this.pagesSize=1:this.pagesSize=a.data.totalPages,this.rowSize=a.data.size,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.showNotification(-1);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}(),showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNoti=!this.showNoti,Object(B["setTimeout"])(this.closeNoti,1500)},deletePoll:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){var a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.next=3,y.a.delete(c+"/api/polls/"+t);case 3:return r=this.page-1,e.prev=4,e.next=7,y.a.get(c+"/api/polls?page="+r+"&size="+this.rowSize+"&sort="+this.sortByValue+","+this.sortType,{headers:a});case 7:i=e.sent,0==i.data.numberOfElements&&1!=this.page&&this.changePage(this.page-1),this.pollData=i.data.content,0==i.data.totalPages?this.pagesSize=1:this.pagesSize=i.data.totalPages,this.showNotification(200),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](4),this.showNotification(-1);case 17:case"end":return e.stop()}}),e,this,[[4,14]])})));function t(t){return e.apply(this,arguments)}return t}(),closeNoti:function(){this.showNoti=!1},viewPoll:function(e){this.$router.push("/dashboard/poll/viewPoll/"+e)}},filters:{shortDate:function(e){var t=new Date(e),a=t.toDateString(),r=a.substring(4);return r}},directives:{ClickOutside:E.a}},Ct=St,Tt=(a("4036"),Object(k["a"])(Ct,kt,xt,!1,null,"37224e00",null)),Nt=Tt.exports;R()(Tt,{VPagination:D["a"]});var It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"FormPoll"}},[a("div",{attrs:{id:"form-style-10"}},[a("form",{attrs:{id:"forma"}},[a("div",{attrs:{id:"section"}},[a("p",[a("span",{attrs:{id:"createPoll"}},[e._v("Create Poll")]),a("label",{staticStyle:{"font-size":"20px"},attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("X")])])]),a("label",{staticClass:"la"},[e._v("Title")]),a("div",{attrs:{id:"inner-wrap"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],class:{errorBorder:e.showTitleError,noErrorBorder:!e.showTitleError},attrs:{autocomplete:"off",type:"text",name:"field1",placeholder:"New poll title",id:"field1"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showTitleError,expression:"showTitleError"}]},[e._v("Title size is minimum 3 characters")]),a("br"),a("br"),a("div",{attrs:{id:"choicesList"}},[a("label",{attrs:{id:"choices"}},[e._v("Choices:")]),e._l(e.choices,(function(t,r){return a("input",{directives:[{name:"model",rawName:"v-model",value:t.choiceValue,expression:"choice.choiceValue"}],key:r,staticClass:"choices",class:{noErrorBorder:!0},attrs:{type:"text",placeholder:r+1+"."},domProps:{value:t.choiceValue},on:{input:function(a){a.target.composing||e.$set(t,"choiceValue",a.target.value)}}})}))],2),a("input",{class:{disabledButton:5==e.choices.length},attrs:{type:"button",value:"+",disabled:5==e.choices.length,id:"choiceButton"},on:{click:e.addNewChoice}}),a("input",{class:{disabledButton:2==e.choices.length},attrs:{type:"button",value:"-",disabled:2==e.choices.length,id:"choiceButton"},on:{click:e.removeChoice}}),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showChoiceError,expression:"showChoiceError"}]},[e._v("Choice can not be empty")]),a("br"),a("span",{directives:[{name:"show",rawName:"v-show",value:5==e.choices.length,expression:"choices.length==5"}],staticStyle:{color:"#888"}},[e._v("Maximum number of choices have been reached")]),a("br"),a("label",{staticClass:"la",attrs:{id:"channelname"}},[e._v("Channel name")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.channelName,expression:"channelName"}],class:{errorBorder:e.showChannelError,noErrorBorder:!e.showChannelError},attrs:{id:"field3"},on:{click:e.getChannelID,change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.channelName=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",selected:""}},[e._v(e._s(e.channelName))]),e._l(e.channelsData,(function(t){return a("option",{key:t.channelName},[e._v(e._s(t.channelName))])}))],2),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showChannelError,expression:"showChannelError"}]},[e._v("Channel name is required")]),a("br"),a("label",{staticClass:"la2"},[e._v("End date")]),a("br"),a("div",{staticClass:"input-append date form_datetime"},[a("div",[a("date-picker",{staticStyle:{"margin-top":"8px"},attrs:{lang:e.lang},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)]),a("br"),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showDateError,expression:"showDateError"}]},[e._v("Date is required and must not be less then today date")]),a("br"),a("br"),a("br"),a("input",{staticClass:"input-options",attrs:{type:"button",value:"Save",id:"submit"},on:{click:e.save}}),a("input",{staticClass:"input-options",attrs:{type:"button",value:"Cancel",id:"cancle"},on:{click:e.exit}})])])])])},Et=[],Bt={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},Ot={name:"FormPoll",components:{DatePicker:oe.a},data:function(){return{title:"",choices:[],liveValidation:!1,showTitleError:!1,showChoiceError:!1,date:null,showDateError:!1,active:!0,channelsData:[],channelName:localStorage.getItem(void 0),channelId:"",targetChannel:"",showChannelError:!1,time1:"",time2:"",time3:"",lang:{days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pickers:["next 7 days","next 30 days","previous 7 days","previous 30 days"],placeholder:{date:localStorage.getItem(void 0),dateRange:"Select Date Range"}}}},mounted:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"Light"==localStorage.getItem(v)?(document.getElementById("createPoll").style.color="black",document.getElementById("form-style-10").style.backgroundColor="white"):"Dark"==localStorage.getItem(v)&&(document.getElementById("cancle").style.backgroundColor="#191919",document.getElementById("cancle").style.color="white",document.getElementsByClassName("mx-input")[0].style.backgroundColor="#191919",document.getElementById("channelname").style.backgroundColor="#191919",document.getElementsByClassName("la2")[0].style.backgroundColor="#191919",document.getElementById("createPoll").style.color="white",document.getElementById("form-style-10").style.backgroundColor="#191919",document.getElementById("inner-wrap").style.backgroundColor="#191919",document.getElementsByTagName("label")[0].style.backgroundColor="#191919",document.getElementsByTagName("label")[1].style.backgroundColor="#191919",document.getElementsByTagName("label")[2].style.backgroundColor="#191919",document.getElementById("FormPoll").color="black"),"en"!=localStorage.getItem(f)&&(document.getElementById("createPoll").innerHTML=localStorage.getItem(void 0),document.getElementsByClassName("la")[0].innerHTML=localStorage.getItem(void 0),document.getElementsByClassName("la2")[0].innerHTML=localStorage.getItem(void 0),document.getElementById("channelname").innerHTML=localStorage.getItem(void 0),document.getElementById("cancle").value=localStorage.getItem(void 0),document.getElementById("submit").value=localStorage.getItem(void 0),document.getElementById("field1").placeholder=localStorage.getItem(void 0),document.getElementById("choices").innerHTML=localStorage.getItem(void 0)),this.choices.push({choiceValue:""}),this.choices.push({choiceValue:""}),document.getElementsByClassName("mx-input-append")[0].style.padding="0px",e.prev=5,e.next=8,y.a.get(c+"/api/channels");case 8:t=e.sent,this.channelsData=t.data,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),this.$emit("show-notification",-1);case 15:case"end":return e.stop()}}),e,this,[[5,12]])})));function t(){return e.apply(this,arguments)}return t}(),watch:{date:function(e){1==this.liveValidation&&this.check_date(e)},choices:{handler:function(){1==this.liveValidation&&this.check_choices(this.choices)},deep:!0},title:function(e){1==this.liveValidation&&this.check_title(e)},channelName:function(e){this.channelName=e,1==this.liveValidation&&this.check_channelName(e)}},methods:{exit:function(){this.$router.go(-1)},addNewChoice:function(){this.choices.push({choiceValue:""})},removeChoice:function(){this.choices.pop()},check_title:function(e){return this.title.length<3?(this.showTitleError=!0,!1):(this.showTitleError=!1,!0)},check_choices:function(e){for(var t=!1,a=0;a<this.choices.length;a++)""==this.choices[a].choiceValue?(document.getElementsByClassName("choices")[a].style.borderColor="red",this.showChoiceError=!0,t=!0):document.getElementsByClassName("choices")[a].style.borderColor="rgba(0, 0, 0, 0.2)";return 1!=t&&(this.showChoiceError=!1,!0)},check_date:function(e){var t=new Date;if(null==this.date||t>=this.date){var a=document.getElementsByClassName("mx-input")[0];return a.style.borderColor="rgb(253, 38, 38)",this.showDateError=!0,!1}a=document.getElementsByClassName("mx-input")[0];return a.style.borderColor="rgba(0, 0, 0, 0.2)",this.showDateError=!1,!0},check_channelName:function(e){return"Some channel name"==this.channelName?(this.showChannelError=!0,!1):(this.showChannelError=!1,!0)},save:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.liveValidation=!0,0==this.check_title(this.title)&&(this.invalid=!0),0==this.check_date(this.date)&&(this.invalid=!0),0==this.check_choices(this.choices)&&(this.invalid=!0),0!=this.check_channelName(this.channelName)){e.next=8;break}if(1!=this.invalid){e.next=8;break}return this.invalid=!1,e.abrupt("return");case 8:return e.prev=8,e.next=11,y.a.post(c+"/api/polls",{active:this.active,channelId:this.channelId,activeUntil:this.date,choiceList:this.choices,title:this.title},{headers:Bt});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](8),this.$emit("show-notification",-1),this.$router.go(-1);case 17:this.$emit("show-notification"),this.$emit("reload-poll"),this.$router.go(-1);case 20:case"end":return e.stop()}}),e,this,[[8,13]])})));function t(){return e.apply(this,arguments)}return t}(),getChannelID:function(){var e=this;this.channelsData.length>1?(this.targetChannel=this.channelsData.filter((function(t){return t.channelName==e.channelName})),this.channelId=this.targetChannel[0].id):this.channelId=this.channelsData[0].id}}},zt=Ot,$t=(a("bbac"),Object(k["a"])(zt,It,Et,!1,null,"2b663636",null)),Rt=$t.exports,Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Activity"}},[e._m(0),a("div",{attrs:{id:"divlist"}},[a("ul",{attrs:{id:"list"}},[a("li",{attrs:{id:"title-li"}},[a("div",{staticClass:"column1 column"},[a("h5",[e._v("ID")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by id"},on:{click:function(t){return e.sortByValue("auditId")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column2 column"},[a("h5",[e._v("Action")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by action"},on:{click:function(t){return e.sortByValue("cause")}}},[e._v("arrow_drop_down")])])]),a("div",{staticClass:"column3 column"},[a("h5",[e._v("Result")]),a("p",[a("i",{staticClass:"material-icons",attrs:{title:"Sort by result"},on:{click:function(t){return e.sortByValue("consequence")}}},[e._v("arrow_drop_down")])])])]),e._l(e.auditData,(function(t){return a("li",{key:t.id,class:{notSeen:t.seen}},[a("div",{staticClass:"linear2"}),a("div",{staticClass:"linear1"}),a("div",{staticClass:"column1 column"},[a("p",[e._v(e._s(t.auditId))])]),a("div",{staticClass:"column2 column"},[a("p",[e._v(e._s(t.cause))])]),a("div",{staticClass:"column3 column"},[a("p",[e._v(e._s(t.consequence))])])])}))],2)]),a("div",{attrs:{id:"footer"}},[a("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMenu,expression:"hideMenu"}],attrs:{id:"footer-btn"},on:{click:e.toggleMenu}},[e._v(e._s(this.rowSize)+" Rows")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.menu,expression:"menu"}],attrs:{id:"menu"}},e._l(e.rowSizesValue,(function(t){return a("div",{key:t,staticClass:"menu-article",on:{click:function(a){return e.setRows(t)}}},[e._v(e._s(t))])})),0),a("div",{staticClass:"text-xs-center"},[a("v-pagination",{attrs:{length:e.pagesSize,"total-visible":5},on:{input:e.changePage},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showNotificationValue,expression:"showNotificationValue"}],class:{redBorder:e.errorOccured,greenBorder:!e.errorOccured},attrs:{id:"notification"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.textNoti,expression:"textNoti"}],class:{redText:e.errorOccured,greenText:!e.errorOccured},attrs:{type:"text",readonly:""},domProps:{value:e.textNoti},on:{input:function(t){t.target.composing||(e.textNoti=t.target.value)}}}),a("button",{class:{redBackground:e.errorOccured,greenBackground:!e.errorOccured},on:{click:e.f}},[e._v("OK")])])])},Pt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"header"}},[a("h1",[e._v("Activity")])])}],Mt=(localStorage.getItem(d),{name:"Activity",data:function(){var e;return e={auditData:[],textNoti:"",rowSizesValue:[5,10,20],rowSize:20,page:1,pagesSize:1,menu:!1,sortByValue:"createdAt",sortType:"desc"},Object(Ne["a"])(e,"textNoti",""),Object(Ne["a"])(e,"errorOccured",!1),Object(Ne["a"])(e,"showNotificationValue",!1),e},mounted:function(){"Light"==localStorage.getItem(v)?(this.$emit("change-light"),document.getElementById("header").style.backgroundColor="white",document.getElementById("divlist").style.backgroundColor="white"):"Dark"==localStorage.getItem(v)&&(this.$emit("change-dark"),document.getElementsByTagName("H1")[0].style.color="#f1f1f1",document.getElementById("Activity").style.color="#f1f1f1",document.getElementById("footer").style.backgroundColor="#191919",document.getElementById("divlist").style.backgroundColor="#4c4c4c",document.getElementById("header").style.backgroundColor="#191919",document.getElementById("Activity").style.backgroundColor="#191919",document.getElementById("title-li").style.backgroundColor="#323232",document.getElementById("title-li").style.color="#f1f1f1",document.getElementsByTagName("H5")[0].style.color="#f1f1f1",document.getElementsByTagName("H5")[1].style.color="#f1f1f1",document.getElementsByTagName("H5")[2].style.color="#f1f1f1"),"en"!=localStorage.getItem(f)&&(document.getElementsByTagName("H1")[0].innerHTML=localStorage.getItem(void 0),document.getElementsByTagName("H5")[1].innerHTML=localStorage.getItem(void 0),document.getElementsByTagName("H5")[2].innerHTML=localStorage.getItem(void 0)),this.create()},methods:{toggleMenu:function(){this.menu=!this.menu},hideMenu:function(){this.menu=!1},setRows:function(e){e!=this.rowSize&&(this.rowSize=e,this.reloadActivity()),this.menu=!this.menu},changePage:function(e){this.page=e,this.reloadActivity(e-1)},reloadActivity:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},a=this.page-1,e.prev=2,e.next=5,y.a.get(c+"/api/logs?page="+a+"&size="+this.rowSize,{headers:t});case 5:r=e.sent,r.data.totalPages<this.page&&this.changePage(r.data.totalPages),this.auditData=r.data.content,this.pagesSize=r.data.totalPages,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.showNotification(-1);case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(){return e.apply(this,arguments)}return t}(),create:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem(d)},e.prev=1,e.next=4,y.a.get(c+"/api/logs?page=0&size="+this.rowSize+"&sort=createdAt,asc",{headers:t});case 4:a=e.sent,this.auditData=a.data.content,0==a.data.totalPages?this.pagesSize=1:this.pagesSize=a.data.totalPages,this.rowSize=a.data.size,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),this.showNotification(-1);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}(),closeNotification:function(){this.showNotificationValue=!1},showNotification:function(e){-1==e?(this.textNoti="Some error have occured",this.errorOccured=!0):(this.errorOccured=!1,this.textNoti="Succes"),this.showNotificationValue=!this.showNotificationValue,setTimeout(this.closeNotification,1500)},sortBy:function(e){"desc"==this.sortType?this.sortType="asc":this.sortType="desc",this.sortByValue=e,this.reloadActivity()}},directives:{ClickOutside:E.a}}),Vt=Mt,jt=(a("42e3"),Object(k["a"])(Vt,Dt,Pt,!1,null,"88d0ada0",null)),At=jt.exports;R()(jt,{VPagination:D["a"]});var Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"pollView"}},[a("div",{attrs:{id:"form-style-10"}},[a("form",{attrs:{id:"forma"}},[a("div",{attrs:{id:"section"}},[a("p",{attrs:{id:"pollViewTitle"}},[e._v("\n           Login\n           "),a("label",{staticStyle:{"font-size":"20px"},attrs:{id:"close-icon"},on:{click:e.exit}},[e._v("X")])])]),a("div",{attrs:{id:"inner-wrap"}},[a("label",{staticClass:"la"},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",name:"field1",id:"field1",placeholder:"Enter your email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),a("label",{staticClass:"la"},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",name:"field1",id:"field1",placeholder:"Enter your password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),a("input",{attrs:{type:"button",value:"Save",id:"submit"},on:{click:e.save}}),a("input",{staticClass:"input-options",attrs:{type:"button",value:"Cancel",id:"cancle"},on:{click:e.exit}})])])])])},Ut=[],Lt={name:"pollView",data:function(){return{title:"",choiceList:[],password:"",email:""}},mounted:function(){this.create()},methods:{exit:function(){this.$router.go(-1)},save:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post(c+"/auth/login",{email:this.email,password:this.password});case 3:t=e.sent,200==t.status?(localStorage.setItem(d,t.data.accessToken),this.$router.push("/dashboard/rezervacije")):this.$router.push("/error"),this.$emit("show-notification"),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),this.$emit("show-notification",-1);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()}},Ft=Lt,qt=(a("eeb1"),Object(k["a"])(Ft,Ht,Ut,!1,null,"617111d0",null)),Jt=qt.exports;r["a"].config.productionTip=!1;var Kt=new n["a"]({routes:[{path:"/",component:Me,redirect:"/login"},{path:"/login",component:Me},{path:"/loginForm",component:Jt},{path:"/registerForm",component:_t},{path:"/oauth2/redirect",component:lt},{path:"/error",component:pt},{path:"/dashboard",component:Ge,children:[{path:"poll",component:Nt,children:[{path:"newPoll",component:Rt},{path:"viewPoll/:id",component:Jt}]},{path:"rezervacije",component:M,children:[{path:"newReservation",component:re},{path:"newReservation/:id",component:re},{path:"newTrigger/:id",component:we},{path:"newSchedule/:id",component:he},{path:"updateMessage/:id",component:re}]},{path:"racuni",component:L,children:[{path:"newBill",component:he},{path:"newBill/:id",component:he}]},{path:"triggers",component:W,children:[{path:"newTrigger",component:we},{path:"updateTrigger/:id",component:we}]},{path:"user",component:Oe,children:[{path:"newUser",component:Se}]},{path:"activity",component:At},{path:"/profile",component:rt}]}],mode:"history"});r["a"].use(n["a"]),new r["a"]({router:Kt,render:function(e){return e(S)}}).$mount("#app")},5983:function(e,t,a){},"64d8":function(e,t,a){"use strict";var r=a("94e1"),i=a.n(r);i.a},"66e8":function(e,t,a){},"6f8e":function(e,t,a){"use strict";var r=a("e085"),i=a.n(r);i.a},"75a7":function(e,t,a){},"789b":function(e,t,a){"use strict";var r=a("3eac"),i=a.n(r);i.a},"79c2":function(e,t,a){},"7ffa":function(e,t,a){},8228:function(e,t,a){"use strict";var r=a("5983"),i=a.n(r);i.a},9028:function(e,t,a){"use strict";var r=a("ecae"),i=a.n(r);i.a},"94e1":function(e,t,a){},"978c":function(e,t,a){"use strict";var r=a("7ffa"),i=a.n(r);i.a},"9f93":function(e,t,a){},b335:function(e,t,a){"use strict";var r=a("509a"),i=a.n(r);i.a},bbac:function(e,t,a){"use strict";var r=a("2944"),i=a.n(r);i.a},dd85:function(e,t,a){},e008:function(e,t,a){},e085:function(e,t,a){},e53b:function(e,t,a){},e6f5:function(e,t,a){"use strict";var r=a("66e8"),i=a.n(r);i.a},ecae:function(e,t,a){},eeb1:function(e,t,a){"use strict";var r=a("75a7"),i=a.n(r);i.a}});
//# sourceMappingURL=app.6d1d325a.js.map